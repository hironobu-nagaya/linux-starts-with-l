<html lang="ja">
<head>
<title>Lから始まるLinux - 2章31話 リダイレクト</title>
<base href="../..">
<meta charset="utf-8">
<meta name="author" content="Hironobu Nagaya">
<meta name="robots" content="all">
<meta name="keywords" content="Lから始まるLinux,Linux starts with L,linux,redirect,echo">
<meta name="description" content="兄妹の対話を通してLinuxへの理解を深めていくお話です">
<meta name="viewport" content="width=device-width, initial-scale=0.5" />
<meta name="format-detection" content="telephone=no, email=no, address=no" />
<link rel="prev" href="2/30/" />
<link rel="next" href="2/32/" />
<link rel="icon" href="favicon.svg" type="image/svg+xml">
<link rel="stylesheet" href="css/normalize.css" type="text/css">
<link rel="stylesheet" href="css/common.css" type="text/css">
<link rel="stylesheet" href="css/story.css" type="text/css">
</head>
<body>
<header>
<h1>Lから始まるLinux</h1>
<div class="relation">
<div>
<div>前</div>
<div>2章30話</div>
<div><a href="2/30/">クォート</a></div>
</div>
<div>
<div>今</div>
<div>2章31話 リダイレクト</div>
<div><a href=".">もくじ</a></div>
</div>
<div>
<div>次</div>
<div>2章32話</div>
<div><a href="2/32/">ファイルディスクリプタ</a></div>
</div>
</div>
</header>
<main>
<section>
<article class="header1"><span>リダイレクト</span></article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>今回は<wbr>「リダイレクト(redirect)」<wbr></span></span>
<span><span>について学んでみよう</span></span>
<span><span>名詞で<wbr>「リダイレクション</span></span>
<span><span>(redirection)」<wbr>とも呼ぶよ</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>それってどんな</span></span>
<span><span>ものなのかな？</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>普通はキーボードから入力して</span></span>
<span><span>結果が画面に出力されるよね</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>うん、<wbr>そうだね！</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>この<wbr>「普通」<wbr>を変更して</span></span>
<span><span>出力先や入力元を自由に</span></span>
<span><span>変えられる機能なんだよ</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>うーん…</span></span>
<span><span>ピンと来ないなぁ…</span></span>
</div>
</article>
<article class="header2"><span>出力リダイレクト</span></article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><code>echo</code><span> は</span></span>
<span><span>文字列を画面に表示するよ</span></span>
</div>
</article>
<article class="code"><pre><code class="bash">echo <wbr>[オプション]... <wbr>文字列...
</code></pre></article><article class="table"><table><thead><tr><th><span>オプション</span></th><th><span>役割</span></th></tr></thead><tbody><tr><td><code>-n</code></td><td><span>出力の最後に改行を付けない</span></td></tr><tr><td><code>-e</code></td><td><span><wbr>「バックスラッシュ(</span><code>\</code><span>)」<wbr>によるエスケープを解釈する ( </span><code>\n</code><span> で<wbr>「改行」<wbr>など)</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>以下を実行してみよう！</span></span></div></article><article class="code"><pre><code class="bash">echo <wbr>hello
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>どれどれ？</span></span></div></article><article class="code"><pre><code class="console">hello
</code></pre></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>おおっ！</span></span><span><span>画面に </span><code>hello</code><span> って</span></span><span><span>表示されたよ！</span></span></div></article><article class="talk"><div><img src="img/midori-smile.svg" alt="若木 みどり(笑顔)" /></div><div><span><span><wbr>「こだま(echo)」<wbr>だから</span></span><span><span>この名前なんだね！</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>でも画面に文字が</span></span><span><span>表示されるだけって</span></span><span><span>あまり使い道が</span></span><span><span>思い浮かばないかも</span></span></div></article><article class="talk"><div><img src="img/shigeru-smile.svg" alt="若木 しげる(笑顔)" /></div><div><span><span>後になると色々な</span></span><span><span>使い道が出てくるから</span></span><span><span>楽しみにしていてね</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>じゃあその</span></span><span><span><wbr>「画面に出力される」<wbr></span></span><span><span>の動きを変えてみよう</span></span><span><span>このように書くよ</span></span></div></article><article class="code"><pre><code class="bash">コマンド <wbr>&gt; <wbr>ファイル
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>echo</code><span> では</span></span><span><span>以下のように</span></span><span><span>してみよう</span></span></div></article><article class="code"><pre><code class="bash">echo <wbr>hello <wbr>&gt; <wbr>my-file
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>あれ？</span></span><span><span>今度は何にも</span></span><span><span>表示されないよ？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>そう</span></span><span><span>文字列 </span><code>hello</code><span> の出力先は</span></span><span><span>画面じゃないんだ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>ls</code><span> で</span></span><span><span>ファイル一覧を</span></span><span><span>確認してみよう！</span></span></div></article><article class="code"><pre><code class="bash">ls
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>あっ</span></span></div></article><article class="code"><pre><code class="console">my-file
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><code>my-file</code><span> という</span></span><span><span>ファイルがある！</span></span></div></article><article class="code"><pre><code class="bash">cat <wbr>my-file
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>この中身って</span></span><span><span>もしかして…</span></span></div></article><article class="code"><pre><code class="console">hello
</code></pre></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>中身が </span><code>hello</code><span> に</span></span><span><span>なっている！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>画面に出力されるはずの</span></span><span><span>文字列 </span><code>hello</code><span> を</span></span><span><span>リダイレクトで変更して</span></span><span><code>my-file</code><span> ファイルに</span></span><span><span>出力させたんだよ</span></span></div></article><article class="talk"><div><img src="img/midori-smile.svg" alt="若木 みどり(笑顔)" /></div><div><span><span>すごい！</span></span><span><span>1行の文章なら</span></span><span><span>エディタを使わなくても</span></span><span><span>ファイルに保存できるね！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>注意があるよ</span></span><span><code>&gt;</code><span> を使うと</span></span><span><span>指定されたファイルの中身を</span></span><span><strong>全部消してから</strong></span><span><span>出力を書き込むんだ</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>出力先に上書きする</span></span><span><span>動作になるんだね</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>ファイルに書き込まれている</span></span><span><span>内容はそのままで</span></span><span><span>そこへ追記することは</span></span><span><span>できないのかな？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>できるよ！</span></span><span><span>既に内容があるファイルに</span></span><span><strong>追記</strong><span>したい場合には </span><code>&gt;&gt;</code><span> を使うよ</span></span></div></article><article class="code"><pre><code class="bash">コマンド <wbr>&gt;&gt; <wbr>ファイル
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>なるほど！</span></span><span><span><wbr>「</span><code>&gt;</code><span> は上書き」<wbr></span></span><span><span><wbr>「</span><code>&gt;&gt;</code><span> は追記」<wbr>だね！</span></span></div></article><article class="talk"><div><img src="img/midori-smile.svg" alt="若木 みどり(笑顔)" /></div><div><span><span>じゃあ </span><code>my-file</code><span> ファイルに</span></span><span><span>どんどん内容を追記してみよう！</span></span></div></article><article class="code"><pre><code class="bash">echo <wbr>hello2 <wbr>&gt;&gt; <wbr>my-file
echo <wbr>hello3 <wbr>&gt;&gt; <wbr>my-file
echo <wbr>hello4 <wbr>&gt;&gt; <wbr>my-file
</code></pre></article><article class="header2"><code>/dev/null</code><span> ファイル</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>出力リダイレクトを覚えたら</span></span><span><code>/dev/null</code><span> も一緒に覚えよう！</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>ええっと…</span></span><span><span>FHS のときに出てきたよね？</span></span><span><span>たしか<wbr>「常に空っぽ」<wbr>の</span></span><span><span>ファイルだったと思う！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>そのとおり！</span></span><span><span>何をしても<wbr>「常に空っぽ」<wbr>なんだ</span></span><span><span>出力リダイレクトと組み合わせて</span></span><span><span><wbr>「出力のゴミ箱」<wbr>として利用されるよ</span></span></div></article><article class="code"><pre><code class="bash">コマンド <wbr>&gt; <wbr>/dev/null
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>出力メッセージを</span></span><span><span>出して欲しくない場合は</span></span><span><span>このようにするのね！</span></span></div></article><article class="header2"><span>入力リダイレクト</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>リダイレクトは</span></span><span><span>入力元も変更できるよ</span></span></div></article><article class="code"><pre><code class="bash">コマンド <wbr>&lt; <wbr>ファイル
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>コマンド</code><span> が</span></span><span><span>キーボード入力の代わりに</span></span><span><code>ファイル</code><span> の内容を入力に使うよ</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>あらかじめファイルに</span></span><span><span>入力内容を書いておいて</span></span><span><span>入力リダイレクトすれば</span></span><span><span>キーボード操作を</span></span><span><span>自動化できるんだね！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>そのとおり！</span></span><span><span>今の段階では使い道が</span></span><span><span>思い浮かばないかも知れないけど</span></span><span><span>さまざまな場面で役立つから</span></span><span><span>覚えておこうね</span></span></div></article><article class="header2"><span>まとめ</span></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>今回はリダイレクトを覚えたよ！</span></span><span><span>以下のようにすれば</span></span><span><span>操作の出力先や入力元を</span></span><span><span>変更できるんだ！</span></span></div></article><article class="table"><table><thead><tr><th><span>記述</span></th><th><span>動作</span></th></tr></thead><tbody><tr><td><code>コマンド &gt; ファイル</code></td><td><code>コマンド</code><span> の出力を </span><code>ファイル</code><span> へ上書き出力</span></td></tr><tr><td><code>コマンド &gt;&gt; ファイル</code></td><td><code>コマンド</code><span> の出力を </span><code>ファイル</code><span> へ追記出力</span></td></tr><tr><td><code>コマンド &lt; ファイル</code></td><td><code>コマンド</code><span> の入力を </span><code>ファイル</code><span> から入力</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>入力リダイレクトの使い方…</span></span><span><code>passwd</code><span> で使えそうかな？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>残念ながら </span><code>passwd</code><span> は</span></span><span><span>パスワード設定を横着できないよう</span></span><span><span>入力リダイレクトを拒否するんだ</span></span></div></article><article class="talk"><div><img src="img/shigeru-smile.svg" alt="若木 しげる(笑顔)" /></div><div><span><span>でも良い着眼点だね</span></span><span><span>そんな感じでリダイレクトを</span></span><span><span>使える場面を探して</span></span><span><span>Linux を便利に使っていこう！</span></span></div></article></section></main><footer><div class="relation"><div><div>前</div><div>2章30話</div><div><a href="2/30/">クォート</a></div></div><div><div>今</div><div>2章31話 リダイレクト</div><div><a href=".">もくじ</a></div></div><div><div>次</div><div>2章32話</div><div><a href="2/32/">ファイルディスクリプタ</a></div></div></div></footer><script src="js/jquery.js"></script><script src="js/common.js"></script></body></html>
