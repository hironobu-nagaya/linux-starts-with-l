<html lang="ja">
<head>
<title>Lから始まるLinux - 2章67話 ネットワーク関連コマンド</title>
<base href="../..">
<meta charset="utf-8">
<meta name="author" content="Hironobu Nagaya">
<meta name="robots" content="all">
<meta name="keywords" content="Lから始まるLinux,Linux starts with L,linux,ip,ping,traceroute,curl,wget">
<meta name="description" content="兄妹の対話を通してLinuxへの理解を深めていくお話です">
<meta name="viewport" content="width=device-width, initial-scale=0.5" />
<meta name="format-detection" content="telephone=no, email=no, address=no" />
<link rel="prev" href="2/66/" />
<link rel="next" href="2/68/" />
<link rel="icon" href="favicon.svg" type="image/svg+xml">
<link rel="stylesheet" href="css/normalize.css" type="text/css">
<link rel="stylesheet" href="css/common.css" type="text/css">
<link rel="stylesheet" href="css/story.css" type="text/css">
</head>
<body>
<header>
<h1>Lから始まるLinux</h1>
<div class="relation">
<div>
<div>前</div>
<div>2章66話</div>
<div><a href="2/66/">システム関連コマンド</a></div>
</div>
<div>
<div>今</div>
<div>2章67話 ネットワーク関連コマンド</div>
<div><a href=".">もくじ</a></div>
</div>
<div>
<div>次</div>
<div>2章68話</div>
<div><a href="2/68/">その他のコマンド</a></div>
</div>
</div>
</header>
<main>
<section>
<article class="header1"><span>ネットワーク関連コマンド</span></article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>お兄ちゃん！</span></span>
<span><span>そろそろネットワークも</span></span>
<span><span>扱えるようになりたいよ！</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>そうだね</span></span>
<span><span>今回はネットワーク関連の</span></span>
<span><span>コマンドを学んでいこう！</span></span>
</div>
</article>
<article class="header2"><code>ip</code><span> コマンド</span></article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><code>ip</code><span> は</span></span>
<span><span>ネットワーク設定を</span></span>
<span><span>表示したり管理するよ</span></span>
</div>
</article>
<article class="code"><pre><code class="bash">ip <wbr>[オプション]... <wbr>対象 <wbr>操作
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>私は細かな設定は</span></span><span><span>しないと思うんだ</span></span><span><span>IP アドレスの確認とか</span></span><span><span>簡単な確認は</span></span><span><span>どうすればいいかな？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>それなら</span></span><span><code>ip addr show</code><span> だけを覚えよう</span></span><span><code>ip address show</code><span> の短縮形で</span></span><span><span>確認でよく使われる指定だよ</span></span></div></article><article class="code"><pre><code class="bash">ip <wbr>addr <wbr>show
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>どんな内容が</span></span><span><span>出てくるのかな？</span></span></div></article><article class="code"><pre><code class="console">1: <wbr>lo: <wbr>&lt;LOOPBACK,UP,LOWER_UP&gt; <wbr>mtu <wbr>65536 <wbr>qdisc <wbr>noqueue <wbr>state <wbr>UNKNOWN <wbr>group <wbr>default <wbr>qlen <wbr>1000
    <wbr>link/loopback <wbr>00:00:00:00:00:00 <wbr>brd <wbr>00:00:00:00:00:00
    <wbr>inet <wbr>127.0.0.1/8 <wbr>scope <wbr>host <wbr>lo
       <wbr>valid_lft <wbr>forever <wbr>preferred_lft <wbr>forever
    <wbr>inet6 <wbr>::1/128 <wbr>scope <wbr>host <wbr>noprefixroute
       <wbr>valid_lft <wbr>forever <wbr>preferred_lft <wbr>forever
2: <wbr>eth0: <wbr>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; <wbr>mtu <wbr>1500 <wbr>qdisc <wbr>mq <wbr>state <wbr>UP <wbr>group <wbr>default <wbr>qlen <wbr>1000
    <wbr>link/ether <wbr>12:34:56:78:90:ab <wbr>brd <wbr>ff:ff:ff:ff:ff:ff
    <wbr>inet <wbr>192.168.0.100/24 <wbr>brd <wbr>192.168.0.255 <wbr>scope <wbr>global <wbr>dynamic <wbr>noprefixroute <wbr>eth0
       <wbr>valid_lft <wbr>43376sec <wbr>preferred_lft <wbr>43376sec
    <wbr>inet6 <wbr>240b:13:a120:1800:2e9b:cfb5:c0a7:7050/64 <wbr>scope <wbr>global <wbr>dynamic <wbr>noprefixroute
       <wbr>valid_lft <wbr>279sec <wbr>preferred_lft <wbr>279sec
    <wbr>inet6 <wbr>fe80::207:878:e024:218a/64 <wbr>scope <wbr>link <wbr>noprefixroute
       <wbr>valid_lft <wbr>forever <wbr>preferred_lft <wbr>forever
3: <wbr>wlan0: <wbr>&lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; <wbr>mtu <wbr>1500 <wbr>qdisc <wbr>pfifo_fast <wbr>state <wbr>DOWN <wbr>group <wbr>default <wbr>qlen <wbr>1000
    <wbr>link/ether <wbr>d8:3a:dd:88:74:ad <wbr>brd <wbr>ff:ff:ff:ff:ff:ff
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>この </span><code>lo</code><span>, <wbr></span><code>eth0</code><span>, <wbr></span><code>wlan0</code><span> などが</span></span><span><span>ネットワークデバイスを表しているよ</span></span><span><span>必要な項目をその配下の表示から読み取ろう</span></span></div></article><article class="header2"><code>ping</code><span> コマンド</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>ping</code><span> は</span></span><span><span>接続先から応答が返るか確認するよ</span></span><span><span>主にネットワーク疎通確認などで</span></span><span><span>使われるんだ</span></span></div></article><article class="code"><pre><code class="bash">ping <wbr>[オプション]... <wbr>接続先
</code></pre></article><article class="table"><table><thead><tr><th><span>オプション</span></th><th><span>意味</span></th></tr></thead><tbody><tr><td><span>-c 回数</span></td><td><span>ping を送信する回数（デフォルトは無制限）</span></td></tr><tr><td><span>-i 間隔（秒）</span></td><td><span>ping を送信する間隔（デフォルトは 1 秒）</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>応答が返ってこれば</span></span><span><span>接続先へネットワークが</span></span><span><span>繋っているって言えるのね</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>応答が返ってこなかった場合</span></span><span><span>接続先が存在していない</span></span><span><span>ネットワークに問題があるなど</span></span><span><span>色々な原因が考えられるよ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>また </span><code>ping</code><span> が届いても</span></span><span><span>セキュリティ目的で</span></span><span><span>あえて応答していない場合も</span></span><span><span>あることも覚えておこう</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>実際に試してみよう</span></span><span><code>8.8.8.8</code><span> は Google が</span></span><span><span>公開している DNS サーバだよ</span></span><span><span>ここに ping を 4 回送ってみよう</span></span></div></article><article class="code"><pre><code class="bash">ping <wbr>-c <wbr>4 <wbr>8.8.8.8
</code></pre></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>おお！</span></span><span><span>結果がどんどん</span></span><span><span>追記されていくんだね！</span></span></div></article><article class="code"><pre><code class="console">PING <wbr>8.8.8.8 <wbr>(8.8.8.8) <wbr>56(84) <wbr>bytes <wbr>of <wbr>data.
64 <wbr>bytes <wbr>from <wbr>8.8.8.8: <wbr>icmp_seq=1 <wbr>ttl=117 <wbr>time=27.6 <wbr>ms
64 <wbr>bytes <wbr>from <wbr>8.8.8.8: <wbr>icmp_seq=2 <wbr>ttl=117 <wbr>time=24.1 <wbr>ms
64 <wbr>bytes <wbr>from <wbr>8.8.8.8: <wbr>icmp_seq=3 <wbr>ttl=117 <wbr>time=24.8 <wbr>ms
64 <wbr>bytes <wbr>from <wbr>8.8.8.8: <wbr>icmp_seq=4 <wbr>ttl=117 <wbr>time=24.0 <wbr>ms

--- <wbr>8.8.8.8 <wbr>ping <wbr>statistics <wbr>---
4 <wbr>packets <wbr>transmitted, <wbr>4 <wbr>received, <wbr>0% <wbr>packet <wbr>loss, <wbr>time <wbr>3003ms
rtt <wbr>min/avg/max/mdev <wbr>= <wbr>23.968/25.106/27.585/1.464 <wbr>ms
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>だいたい 25 ミリ秒で</span></span><span><span>応答が返ってきているね</span></span><span><span>ゲーマーが </span><code>ping</code><span> 値を</span></span><span><span>気にするという話を</span></span><span><span>聞いたことがあるけど</span></span><span><span>どれだけサーバの応答が</span></span><span><span>速く返ってくるかの</span></span><span><span>目安にもなるんだね</span></span></div></article><article class="header2"><code>traceroute</code><span> コマンド</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>traceroute</code><span> は</span></span><span><span>接続先に届くまでの</span></span><span><span>経路を確認するよ</span></span></div></article><article class="code"><pre><code class="bash">traceroute <wbr>[オプション]... <wbr>接続先
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>ping</code><span> と同じで</span></span><span><span>途中の経路が応答しない場合もよくあるんだ</span></span><span><span>あくまで簡易確認のつもりで使うといいよ</span></span></div></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>へぇ！</span></span><span><span>最終地点に到達できるかだけじゃなく</span></span><span><span>途中の中継地点も確認できるんだね！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>では </span><code>google.com</code><span> に到達するまでに</span></span><span><span>どのような経路をたどっているか</span></span><span><span>見てみよう！</span></span></div></article><article class="code"><pre><code class="bash">traceroute <wbr>google.com
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><code>ping</code><span> と似ているね</span></span><span><span>どんどん結果が</span></span><span><span>追記されていくよ！</span></span></div></article><article class="code"><pre><code class="console">traceroute <wbr>to <wbr>google.com <wbr>(172.217.175.110), <wbr>30 <wbr>hops <wbr>max, <wbr>60 <wbr>byte <wbr>packets
 <wbr>1  <wbr>router.local <wbr>(192.168.0.1)  <wbr>0.598 <wbr>ms  <wbr>0.754 <wbr>ms  <wbr>0.947 <wbr>ms
 <wbr>2  <wbr>200.200.200.200 <wbr>(200.200.200.200)  <wbr>6.132 <wbr>ms  <wbr>5.947 <wbr>ms  <wbr>6.793 <wbr>ms
 <wbr>3  <wbr>210.210.210.210 <wbr>(210.210.210.210)  <wbr>23.377 <wbr>ms  <wbr>23.979 <wbr>ms  <wbr>23.812 <wbr>ms
 <wbr>4  <wbr>220.220.220.220 <wbr>(220.220.220.220)  <wbr>25.470 <wbr>ms  <wbr>22.335 <wbr>ms  <wbr>25.664 <wbr>ms
 <wbr>5  <wbr>* <wbr>* <wbr>*
 <wbr>6  <wbr>240.240.240.240 <wbr>(240.240.240.240)  <wbr>25.470 <wbr>ms  <wbr>22.335 <wbr>ms  <wbr>25.664 <wbr>ms
 <wbr>7  <wbr>250.250.250.250 <wbr>(250.250.250.250)  <wbr>25.470 <wbr>ms  <wbr>22.335 <wbr>ms  <wbr>25.664 <wbr>ms
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>7つの経路を経由して</span></span><span><code>google.com</code><span> に到着しているね</span></span><span><span>5番目の経路は応答を返さなかったので</span></span><span><span>情報が得られなかったことを示しているよ</span></span></div></article><article class="header2"><code>curl</code><span> コマンド</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>curl</code><span> は</span></span><span><span>指定した URL から</span></span><span><span>データを取得するよ</span></span></div></article><article class="code"><pre><code class="bash">curl <wbr>[オプション]... <wbr>URL
</code></pre></article><article class="table"><table><thead><tr><th><span>オプション</span></th><th><span>意味</span></th></tr></thead><tbody><tr><td><span>-L</span></td><td><span>リダイレクトをたどる</span></td></tr><tr><td><span>-o ファイル</span></td><td><span>取得したデータをファイルに保存</span></td></tr><tr><td><span>-O</span></td><td><span>取得したデータを URL と同じ名前で保存</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>これで色々なファイルを</span></span><span><span>インターネット経由で</span></span><span><span>拾って来られるね！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>ここでは</span></span><span><code>https://www.google.co.jp</code><span> から</span></span><span><span>データを取得してみよう</span></span></div></article><article class="code"><pre><code class="bash">curl <wbr>https://www.google.co.jp
</code></pre></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>わっ！</span></span><span><span>たくさん文字が</span></span><span><span>表示されたよ！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>普段はブラウザが</span></span><span><span>描画してくれる HTML の内容が</span></span><span><span>そのまま出力されたんだね</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>指定が無ければこのように</span></span><span><span>標準出力に出力されるんだ</span></span><span><span>リダイレクトやオプションを</span></span><span><span>指定してあげると</span></span><span><span>その内容をファイルに</span></span><span><span>保存できるよ</span></span></div></article><article class="header2"><code>wget</code><span> コマンド</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>wget</code><span> も</span></span><span><span>指定した URL から</span></span><span><span>データを取得するよ</span></span></div></article><article class="code"><pre><code class="bash">wget <wbr>[オプション]... <wbr>URL
</code></pre></article><article class="table"><table><thead><tr><th><span>オプション</span></th><th><span>意味</span></th></tr></thead><tbody><tr><td><span>--max-redirect=回数</span></td><td><span>リダイレクトを最大指定した回数までたどる（デフォルトは 20）</span></td></tr><tr><td><span>-O ファイル</span></td><td><span>取得したデータをファイルに保存</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><code>wget</code><span> は </span><code>curl</code><span> と</span></span><span><span>何が違うのかな？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>wget</code><span> は</span></span><span><span>ダウンローダなんだ</span></span><span><span>大量のファイルを</span></span><span><span>ダウンロードする場合に</span></span><span><span>便利だよ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>ここでは URL から</span></span><span><span>データを取得するツールとして</span></span><span><span>紹介するよ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>ダウンローダとしての</span></span><span><span>使い方に興味があれば</span></span><span><code>man</code><span> で確認してね</span></span></div></article><article class="code"><pre><code class="bash">man <wbr>wget
</code></pre></article><article class="header2"><span>まとめ</span></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>今回はネットワーク関連コマンド</span></span><span><code>ip</code><span>, <wbr></span><code>ping</code><span>, <wbr></span><code>traceroute</code><span>, <wbr></span><code>curl</code><span>, <wbr></span><code>wget</code></span><span><span>を学んだよ！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>これらのコマンドでデータを取得したり、<wbr></span></span><span><span>ネットワークのトラブルシューティングができるよ</span></span><span><span>最初はこのぐらいを押さえておけば十分だよ！</span></span></div></article></section></main><footer><div class="relation"><div><div>前</div><div>2章66話</div><div><a href="2/66/">システム関連コマンド</a></div></div><div><div>今</div><div>2章67話 ネットワーク関連コマンド</div><div><a href=".">もくじ</a></div></div><div><div>次</div><div>2章68話</div><div><a href="2/68/">その他のコマンド</a></div></div></div></footer><script src="js/jquery.js"></script><script src="js/common.js"></script></body></html>
