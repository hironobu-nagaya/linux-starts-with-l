<html lang="ja">
<head>
<title>Lから始まるLinux - 2章59話 テキスト関連コマンド(その2)</title>
<base href="../..">
<meta charset="utf-8">
<meta name="author" content="Hironobu Nagaya">
<meta name="robots" content="all">
<meta name="keywords" content="Lから始まるLinux,Linux starts with L,linux,cut,tr,wc,fold">
<meta name="description" content="兄妹の対話を通してLinuxへの理解を深めていくお話です">
<meta name="viewport" content="width=device-width, initial-scale=0.5" />
<meta name="format-detection" content="telephone=no, email=no, address=no" />
<link rel="prev" href="2/58/" />
<link rel="next" href="2/60/" />
<link rel="icon" href="favicon.svg" type="image/svg+xml">
<link rel="stylesheet" href="css/normalize.css" type="text/css">
<link rel="stylesheet" href="css/common.css" type="text/css">
<link rel="stylesheet" href="css/story.css" type="text/css">
</head>
<body>
<header>
<h1>Lから始まるLinux</h1>
<div class="relation">
<div>
<div>前</div>
<div>2章58話</div>
<div><a href="2/58/">テキスト関連コマンド(その1)</a></div>
</div>
<div>
<div>今</div>
<div>2章59話 テキスト関連コマンド(その2)</div>
<div><a href=".">もくじ</a></div>
</div>
<div>
<div>次</div>
<div>2章60話</div>
<div><a href="2/60/">パス関連コマンド</a></div>
</div>
</div>
</header>
<main>
<section>
<article class="header1"><span>テキスト関連コマンド(その2)</span></article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>お兄ちゃん！</span></span>
<span><span>テキスト関連だけでも</span></span>
<span><span>色々なコマンドがあるんだね！</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>他にもおさえたい</span></span>
<span><span>テキスト関連コマンドがあるよ</span></span>
<span><span>今回は前回に続いて</span></span>
<span><span>そのようなコマンドを紹介するね</span></span>
</div>
</article>
<article class="header2"><code>cut</code><span> コマンド</span></article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><code>cut</code><span> は</span></span>
<span><span>文字列の一部分を</span></span>
<span><span>切り出すよ</span></span>
</div>
</article>
<article class="code"><pre><code class="bash">cut <wbr>[オプション]... <wbr>[ファイル]...
</code></pre></article><article class="table"><table><thead><tr><th><span>オプション</span></th><th><span>役割</span></th></tr></thead><tbody><tr><td><code>-c 範囲</code><span>, <wbr></span><code>--characters=範囲</code></td><td><span>指定された範囲の文字を切り出す</span></td></tr><tr><td><code>-f 範囲</code><span>, <wbr></span><code>--fields=範囲</code></td><td><span>指定された範囲のフィールドを切り出す</span></td></tr><tr><td><code>-d 文字</code><span>, <wbr></span><code>--delimiter=文字</code></td><td><span>フィールド区切り文字を指定（デフォルトはタブ文字）</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>こんな感じで</span></span><span><span>使えるんだ</span></span></div></article><article class="table"><table><thead><tr><th><span>コマンド</span></th><th><span>出力</span></th><th><span>意味</span></th></tr></thead><tbody><tr><td><code>cut -c 2 &lt;&lt;&lt; hello</code></td><td><code>e</code></td><td><span>2文字目を切り出す</span></td></tr><tr><td><code>cut -c 2,5 &lt;&lt;&lt; hello</code></td><td><code>eo</code></td><td><span>2文字目と5文字目を切り出す</span></td></tr><tr><td><code>cut -c 2-4 &lt;&lt;&lt; hello</code></td><td><code>ell</code></td><td><span>2文字目から4文字目までを切り出す</span></td></tr><tr><td><code>cut -d / <wbr>-f 3 &lt;&lt;&lt; /home/midori/diary</code></td><td><code>midori</code></td><td><span>区切り文字を </span><code>/</code><span> として3番目のフィールドを切り出す</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>あれ？</span></span><span><code>cut -d / <wbr>-f 3 &lt;&lt;&lt; /home/midori/diary</code><span> の</span></span><span><span>3番目のフィールドって</span></span><span><code>diary</code><span> じゃないのかな？</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>列挙すると</span></span><span><code>home</code><span>, <wbr></span><code>midori</code><span>, <wbr></span><code>diary</code><span> で</span></span><span><code>diary</code><span> が3番目だと思うよ？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>これは </span><code>cut</code><span> を使うときに</span></span><span><span>気をつけるべきことだね</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>cut</code><span> は</span></span><span><span><wbr>「区切り文字」<wbr>を目印にして</span></span><span><span>文字列を前後に分割するんだ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>なので1文字目の</span></span><span><span><wbr>「スラッシュ(</span><code>/</code><span>)」<wbr>の前の</span></span><span><span><wbr>「空文字」<wbr>が1番目の要素になって</span></span><span><span>そこから </span><code>home</code><span>, <wbr></span><code>midori</code><span> ... <wbr>と</span></span><span><span>フィールドを数えていくよ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>なので3番目の要素は</span></span><span><code>midori</code><span> となるんだよ</span></span></div></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>なるほど…！</span></span><span><span>気をつけるね！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>cut</code><span> の注意点として</span></span><span><span>区切り文字は</span></span><span><span><wbr>「文字1文字」<wbr>しか</span></span><span><span>使えないよ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>フィールドの区切りに</span></span><span><span>2文字以上の<wbr>「文字列」<wbr>や</span></span><span><span><wbr>「正規表現」<wbr>を使いたい場合</span></span><span><code>cut</code><span> ではなく </span><code>awk</code><span> の方が</span></span><span><span>適しているよ</span></span></div></article><article class="header2"><code>tr</code><span> コマンド</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>tr</code><span> は</span></span><span><span>文字列中の文字を</span></span><span><span>置き換えたり</span></span><span><span>取り除いたりするよ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>translate の略で</span></span><span><span><wbr>「変換する」<wbr></span></span><span><span><wbr>「転換する」<wbr></span></span><span><span>といった意味なんだ</span></span></div></article><article class="code"><pre><code class="bash">tr <wbr>[オプション] <wbr>セット1 <wbr>[セット2]
</code></pre></article><article class="table"><table><thead><tr><th><span>オプション</span></th><th><span>役割</span></th></tr></thead><tbody><tr><td><code>-c</code><span>, <wbr></span><code>-C</code><span>, <wbr></span><code>--complement</code></td><td><span><wbr>「セット1」<wbr>の代わりに<wbr>「セット1以外」<wbr>を使う</span></td></tr><tr><td><code>-d</code><span>, <wbr></span><code>--delete</code></td><td><span><wbr>「セット1」<wbr>に指定された文字を削除する</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span><wbr>「セット」<wbr>の概念が</span></span><span><span>わかりづらいので</span></span><span><span>例を見たほうが</span></span><span><span>わかりやすいよ</span></span></div></article><article class="table"><table><thead><tr><th><span>コマンド</span></th><th><span>出力</span></th><th><span>意味</span></th></tr></thead><tbody><tr><td><code>tr a-z A-Z &lt;&lt;&lt; hello</code></td><td><code>HELLO</code></td><td><span><wbr>「英小文字(</span><code>a-z</code><span>)」<wbr>を<wbr>「英大文字(</span><code>A-Z</code><span>)」<wbr>に変換する</span></td></tr><tr><td><code>tr -d l &lt;&lt;&lt; hello</code></td><td><code>heo</code></td><td><span><wbr>「文字 </span><code>l</code><span>」<wbr>を削除する</span></td></tr><tr><td><code>tr -cd l &lt;&lt;&lt; hello</code></td><td><code>ll</code></td><td><span><wbr>「</span><code>l</code><span> 以外の文字」<wbr>を削除する</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>慣れるのに時間が</span></span><span><span>掛かりそうだけど</span></span><span><span>かしこい処理をしてくれる</span></span><span><span>コマンドなんだね！</span></span></div></article><article class="header2"><code>wc</code><span> コマンド</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>wc</code><span> は</span></span><span><span>文字数などを</span></span><span><span>数えてくれるんだ</span></span><span><span>word count の略だよ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>オプションの指定がなければ</span></span><span><span><wbr>「行数」<wbr><wbr>「単語数」<wbr><wbr>「文字数」<wbr>の</span></span><span><span>3つを表示してくれるよ</span></span></div></article><article class="code"><pre><code class="bash">wc <wbr>[オプション]... <wbr>[ファイル]...
</code></pre></article><article class="table"><table><thead><tr><th><span>オプション</span></th><th><span>役割</span></th></tr></thead><tbody><tr><td><code>-l</code><span>, <wbr></span><code>--lines</code></td><td><span>行数のみ表示する</span></td></tr><tr><td><code>-w</code><span>, <wbr></span><code>--words</code></td><td><span>単語数のみ表示する</span></td></tr><tr><td><code>-m</code><span>, <wbr></span><code>--chars</code></td><td><span>文字数のみ表示する</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>色々な使い道が</span></span><span><span>ありそうなコマンドだね！</span></span><span><code>test</code><span> の数値比較とも</span></span><span><span>相性がよさそう！</span></span></div></article><article class="header2"><code>fold</code><span> コマンド</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>fold</code><span> は</span></span><span><span>指定された文字数で</span></span><span><span>行を改行するよ</span></span></div></article><article class="code"><pre><code class="bash">fold <wbr>[オプション]... <wbr>[ファイル]...
</code></pre></article><article class="table"><table><thead><tr><th><span>オプション</span></th><th><span>役割</span></th></tr></thead><tbody><tr><td><code>-w 文字数</code><span>, <wbr></span><code>--width=文字数</code></td><td><span>行を</span><code>文字数</code><span>で改行(デフォルトは</span><code>80</code><span>)</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>へぇ…</span></span><span><span>でも指定の文字数で</span></span><span><span>行を折り返すことは</span></span><span><span>あまりないかも？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>そうだね</span></span><span><span>閲覧のために</span></span><span><span>行を折り返すよりも</span></span><span><span>テキスト加工の目的で</span></span><span><span>使われることが多いんだ</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>例えばどんなのかな？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>以下は英大文字小文字数字で構成された</span></span><span><span>ランダムな16文字を取り出すよ</span></span></div></article><article class="code"><pre><code class="bash">tr <wbr>-cd <wbr>a-zA-Z0-9 <wbr>&lt; <wbr>/dev/random <wbr>| <wbr>fold <wbr>-w <wbr>16 <wbr>| <wbr>head <wbr>-n <wbr>1
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><code>fold</code><span> で 16 文字で行を折り返し</span></span><span><code>head</code><span> で先頭の1行のみ表示することで</span></span><span><span>16 文字だけ取り出しているんだね</span></span></div></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><code>tr</code><span> とか </span><code>/dev/random</code><span> とか</span></span><span><span>色々な要素が組み合わさって</span></span><span><span>今まで習ったことの</span></span><span><span>集大成みたいだね！</span></span><span><span>パスワード生成に使えそう！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>/dev/random</code><span> からの出力は</span></span><span><span><wbr>「擬似乱数(pseudorandom numbers)」<wbr></span></span><span><span>と呼ばれるもので</span></span><span><span>本物の乱数ではないんだ</span></span><span><span>計算から生成される</span></span><span><span><wbr>「乱数っぽい数字」<wbr>で</span></span><span><span>たくさんの値を高速に生成できるけど</span></span><span><span>生成される値が推測可能な場合があるんだ</span></span></div></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>そうなんだ！</span></span><span><span>パスワードに使うのは</span></span><span><span>ちょっと心配だね…</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>セキュリティがからむ場合は</span></span><span><span>疑似乱数を返す</span></span><span><code>/dev/random</code><span> ではなく</span></span><span><span>本物の乱数を返す</span></span><span><code>/dev/urandom</code><span> があるので</span></span><span><span>そちらを使うようにしよう！</span></span></div></article><article class="header2"><span>まとめ</span></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>今回はテキストを</span></span><span><span>処理するコマンド</span></span><span><code>cut</code><span>, <wbr></span><code>tr</code><span>,</span></span><span><code>wc</code><span>, <wbr></span><code>fold</code></span><span><span>を学んだよ！</span></span></div></article><article class="talk"><div><img src="img/shigeru-smile.svg" alt="若木 しげる(笑顔)" /></div><div><span><span>これらもアイデア次第で</span></span><span><span>色々活用できるよ</span></span><span><span>面白い使い方を思いついたら</span></span><span><span>兄にも教えてね！</span></span></div></article></section></main><footer><div class="relation"><div><div>前</div><div>2章58話</div><div><a href="2/58/">テキスト関連コマンド(その1)</a></div></div><div><div>今</div><div>2章59話 テキスト関連コマンド(その2)</div><div><a href=".">もくじ</a></div></div><div><div>次</div><div>2章60話</div><div><a href="2/60/">パス関連コマンド</a></div></div></div></footer><script src="js/jquery.js"></script><script src="js/common.js"></script></body></html>
