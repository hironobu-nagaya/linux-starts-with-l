<html lang="ja">
<head>
<title>Lから始まるLinux - 6章5話 ストレージ</title>
<base href="../..">
<meta charset="utf-8">
<meta name="author" content="Hironobu Nagaya">
<meta name="robots" content="all">
<meta name="keywords" content="Lから始まるLinux,Linux starts with L,linux,storage,df,du">
<meta name="description" content="兄妹の対話を通してLinuxへの理解を深めていくお話です">
<meta name="viewport" content="width=device-width, initial-scale=0.5" />
<meta name="format-detection" content="telephone=no, email=no, address=no" />
<link rel="prev" href="6/4/" />
<link rel="next" href="6/6/" />
<link rel="icon" href="favicon.svg" type="image/svg+xml">
<link rel="stylesheet" href="css/normalize.css" type="text/css">
<link rel="stylesheet" href="css/common.css" type="text/css">
<link rel="stylesheet" href="css/story.css" type="text/css">
</head>
<body>
<header>
<h1>Lから始まるLinux</h1>
<div class="relation">
<div>
<div>前</div>
<div>6章4話</div>
<div><a href="6/4/">メモリ</a></div>
</div>
<div>
<div>今</div>
<div>6章5話 ストレージ</div>
<div><a href=".">もくじ</a></div>
</div>
<div>
<div>次</div>
<div>6章6話</div>
<div><a href="6/6/">ポート</a></div>
</div>
</div>
</header>
<main>
<section>
<article class="header1"><span>ストレージ</span></article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>前回はメモリリソースの</span></span>
<span><span>調べ方を教えてもらったね！</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>今回はストレージリソースを</span></span>
<span><span>確認する方法を見ていこう！</span></span>
</div>
</article>
<article class="header2"><code>df</code><span> コマンド</span></article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><code>df</code><span> は</span></span>
<span><span>ストレージ全体の</span></span>
<span><span>状況を表示するよ</span></span>
<span><span>disk free の略なんだ</span></span>
</div>
</article>
<article class="code"><pre><code class="bash">df <wbr>[オプション]... <wbr>[ファイル]...
</code></pre></article><article class="table"><table><thead><tr><th><span>オプション</span></th><th><span>役割</span></th></tr></thead><tbody><tr><td><code>-h</code><span>, <wbr></span><code>--human-readable</code></td><td><span>人間に読みやすい形式で表示</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>-h</code><span> オプションを指定して</span></span><span><span>実行してみよう！</span></span></div></article><article class="code"><pre><code class="bash">df <wbr>-h
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>うん！</span></span></div></article><article class="code"><pre><code class="console">Filesystem      <wbr>Size  <wbr>Used <wbr>Avail <wbr>Use% <wbr>Mounted <wbr>on
udev            <wbr>3.9G     <wbr>0  <wbr>3.9G   <wbr>0% <wbr>/dev
tmpfs           <wbr>806M  <wbr>6.9M  <wbr>799M   <wbr>1% <wbr>/run
/dev/nvme0n1p2  <wbr>470G   <wbr>36G  <wbr>410G   <wbr>8% <wbr>/
tmpfs           <wbr>4.0G     <wbr>0  <wbr>4.0G   <wbr>0% <wbr>/dev/shm
tmpfs           <wbr>5.0M   <wbr>32K  <wbr>5.0M   <wbr>1% <wbr>/run/lock
/dev/nvme0n1p1  <wbr>510M   <wbr>63M  <wbr>448M  <wbr>13% <wbr>/boot/firmware
tmpfs           <wbr>806M   <wbr>16K  <wbr>806M   <wbr>1% <wbr>/run/user/1000
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>ストレージごとに</span></span><span><span>総容量、<wbr>使用容量、<wbr>空き容量などを</span></span><span><span>出してくれるんだね</span></span><span><span>空き領域のパーセント表記も</span></span><span><span>わかりやすくて親切だよ</span></span><span><span>これでどの領域に空きが無いのか</span></span><span><span>一目でわかるね！</span></span></div></article><article class="header2"><code>du</code><span> コマンド</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>du</code><span> は</span></span><span><span>各ディレクトリの</span></span><span><span>使用容量を表示するよ</span></span><span><span>disk usage の略なんだ</span></span></div></article><article class="code"><pre><code class="bash">du <wbr>[オプション]... <wbr>[ファイル]...
</code></pre></article><article class="table"><table><thead><tr><th><span>オプション</span></th><th><span>役割</span></th></tr></thead><tbody><tr><td><code>-a</code><span>, <wbr></span><code>--all</code></td><td><span>ディレクトリだけでなくファイルの使用容量も表示する</span></td></tr><tr><td><code>-s</code><span>, <wbr></span><code>--summarize</code></td><td><span>サマリー（最後の1行）だけを表示する</span></td></tr><tr><td><code>-h</code><span>, <wbr></span><code>--human-readable</code></td><td><span>人間に読みやすい型式で数値を表示する</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>自分のホームディレクトリが</span></span><span><span>どれだけ容量を使っているか</span></span><span><span>確認してみよう！</span></span></div></article><article class="code"><pre><code class="bash">du <wbr>-ah <wbr>~
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>どれどれ…</span></span></div></article><article class="code"><pre><code class="console">4.0K    <wbr>/home/midori/.vim/.netrwhist
8.0K    <wbr>/home/midori/.vim
4.0K    <wbr>/home/midori/.bash_logout
4.0K    <wbr>/home/midori/.ssh/authorized_keys
8.0K    <wbr>/home/midori/.ssh
4.0K    <wbr>/home/midori/.profile
0       <wbr>/home/midori/.sudo_as_admin_successful
8.0K    <wbr>/home/midori/.bash_history
4.0K    <wbr>/home/midori/.bashrc
4.0K    <wbr>/home/midori/.viminfo
4.0K    <wbr>/home/midori/.config/procps
8.0K    <wbr>/home/midori/.config
4.0K    <wbr>/home/midori/.lesshst
56K     <wbr>/home/midori
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>ファイルやディレクトリごとに</span></span><span><span>使用容量がわかるんだね！</span></span><span><span>使用容量合計だけ知りたいなら</span></span><span><code>-s</code><span> オプションがよさそう！</span></span></div></article><article class="header2"><span>まとめ</span></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>今回はストレージリソース状況を</span></span><span><span>確認する方法を学んだよ！</span></span><span><code>df</code><span> や </span><code>du</code><span> で状況を調べられるんだね！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>ストレージが不足すると</span></span><span><span>データ書き込みエラーが発生したり</span></span><span><span>不完全なファイルができてしまうことがあるんだ</span></span><span><span>このような状態になったら</span></span><span><span>不要ファイルを削除して容量を空けよう！</span></span></div></article></section></main><footer><div class="relation"><div><div>前</div><div>6章4話</div><div><a href="6/4/">メモリ</a></div></div><div><div>今</div><div>6章5話 ストレージ</div><div><a href=".">もくじ</a></div></div><div><div>次</div><div>6章6話</div><div><a href="6/6/">ポート</a></div></div></div></footer><script src="js/jquery.js"></script><script src="js/common.js"></script></body></html>
