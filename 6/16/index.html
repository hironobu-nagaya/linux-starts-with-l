<html lang="ja">
<head>
<title>Lから始まるLinux - 6章16話 Apache HTTP Server</title>
<base href="../..">
<meta charset="utf-8">
<meta name="author" content="Hironobu Nagaya">
<meta name="robots" content="all">
<meta name="keywords" content="Lから始まるLinux,Linux starts with L,linux,daemon,Apache HTTP Server,apache2,httpd">
<meta name="description" content="兄妹の対話を通してLinuxへの理解を深めていくお話です">
<meta name="viewport" content="width=device-width, initial-scale=0.5" />
<meta name="format-detection" content="telephone=no, email=no, address=no" />
<link rel="prev" href="6/15/" />
<link rel="next" href="6/17/" />
<link rel="icon" href="favicon.svg" type="image/svg+xml">
<link rel="stylesheet" href="css/normalize.css" type="text/css">
<link rel="stylesheet" href="css/common.css" type="text/css">
<link rel="stylesheet" href="css/story.css" type="text/css">
</head>
<body>
<header>
<h1>Lから始まるLinux</h1>
<div class="relation">
<div>
<div>前</div>
<div>6章15話</div>
<div><a href="6/15/">ClamAV</a></div>
</div>
<div>
<div>今</div>
<div>6章16話 Apache HTTP Server</div>
<div><a href=".">もくじ</a></div>
</div>
<div>
<div>次</div>
<div>6章17話</div>
<div><a href="6/17/">Postfix</a></div>
</div>
</div>
</header>
<main>
<section>
<article class="header1"><span>Apache HTTP Server</span></article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>お兄ちゃん！</span></span>
<span><span>ブラウザで見るページって</span></span>
<span><span>サーバで公開されているんだよね？</span></span>
<span><span>同じようにページを公開できるのかな？</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>もちろん！</span></span>
<span><span>そのようなサーバを</span></span>
<span><span>HTTP サーバと呼ぶよ</span></span>
<span><span>今回は代表的な HTTP サーバ</span></span>
<span><a href="https://httpd.apache.org" target="_blank" rel="noopener noreferrer">Apache HTTP Server</a><span> を扱おう！</span></span>
</div>
</article>
<article class="header2"><span>インストール</span></article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>パッケージ名は</span></span>
<span><span>ディストリビューションによって異なり</span></span>
<span><code>apache2</code><span> や </span><code>httpd</code><span> となっているよ</span></span>
<span><span>パッケージ管理システムから</span></span>
<span><span>検索してインストールしよう</span></span>
</div>
</article>
<article class="code"><pre><code class="bash">sudo <wbr>apt <wbr>install <wbr>-y <wbr>apache2
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>うん！</span></span><span><span>終わったよ！</span></span></div></article><article class="header2"><span>設定</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>次は設定ファイルを確認しよう</span></span><span><code>apache2.conf</code><span> や</span></span><span><code>httpd.conf</code><span> などに</span></span><span><span>なっているんだ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>設定ファイルの</span></span><span><span>場所が分からなければ</span></span><span><code>find</code><span> で検索してみよう</span></span></div></article><article class="code"><pre><code class="bash">sudo <wbr>find <wbr>/etc <wbr>-name <wbr>apache2.conf <wbr>-o <wbr>-name <wbr>httpd.conf
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>うん！</span></span><span><span>試してみるね！</span></span></div></article><article class="code"><pre><code class="console">/etc/apache2/apache2.conf
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>私の場合は</span></span><span><code>/etc/apache2/apache2.conf</code><span> みたいだね！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>今回は設定を変更しないけど</span></span><span><span>設定を書き換えた場合は</span></span><span><span>間違った記述がないか</span></span><span><span>設定ファイルの書式チェックを行おう</span></span><span><span>以下のようにすると確認できるよ！</span></span></div></article><article class="code"><pre><code class="bash">apachectl <wbr>configtest
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>次に設定ファイルの中から</span></span><span><code>DocumentRoot</code><span> という記述を探そう</span></span><span><span>その場所に HTTP サーバが公開する</span></span><span><span>ファイルが配置されているんだ</span></span></div></article><article class="code"><pre><code class="bash">grep <wbr>'DocumentRoot' <wbr>/etc/apache2/apache2.conf
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>実行して</span></span><span><span>確認するよ！</span></span></div></article><article class="code"><pre><code class="console">DocumentRoot <wbr>&quot;/var/www/html&quot;
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>設定されている値は</span></span><span><code>/var/www/html</code><span> と</span></span><span><span>なっているみたい</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>そこのディレクトリで</span></span><span><span>HTML ファイルを公開しているね</span></span><span><code>/var/www/html</code><span> 直下に</span></span><span><span>HTML ファイルを作ろう</span></span></div></article><article class="code"><pre><code class="bash">sudo <wbr>bash <wbr>-c <wbr>'cat <wbr>&gt; <wbr>/var/www/html/sample.html <wbr>&lt;&lt; <wbr>\EOF
&lt;!DOCTYPE <wbr>html&gt;
&lt;html&gt;
  <wbr>&lt;head&gt;
    <wbr>&lt;title&gt;私のページ&lt;/title&gt;
  <wbr>&lt;/head&gt;
  <wbr>&lt;body&gt;
    <wbr>&lt;h1&gt;自分のウェブページへようこそ！&lt;/h1&gt;
  <wbr>&lt;/body&gt;
&lt;/html&gt;
EOF'
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>うん！</span></span><span><span>HTML ファイルを</span></span><span><span>配置したよ！</span></span></div></article><article class="header2"><span>起動</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>いよいよ起動だよ！</span></span><span><span>デーモンを動かし</span></span><span><span>自動起動を有効にしよう！</span></span></div></article><article class="code"><pre><code class="bash">sudo <wbr>systemctl <wbr>enable <wbr>--now <wbr>apache2
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>問題なく起動したかどうかは</span></span><span><span>以下で確認しよう！</span></span></div></article><article class="code"><pre><code class="bash">systemctl <wbr>status <wbr>apache2
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>エラーなく起動したみたい！</span></span><span><span>さっそく確認してみようよ！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>作成した </span><code>sample.html</code><span> は</span></span><span><span>以下の URL からアクセスできるよ</span></span><span><span>ブラウザから見てみよう！</span></span></div></article><article class="code"><pre><code class="plaintext">http://サーバのIPアドレス/sample.html
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>IP アドレスを調べるには</span></span><span><code>ip addr show</code><span> だよね！</span></span><span><span>結果は </span><code>192.168.0.100</code><span> だったよ！</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>ということはブラウザから</span></span><span><span>以下の URL に</span></span><span><span>アクセスすればいいんだ！</span></span></div></article><article class="code"><pre><code class="plaintext">http://192.168.0.100/sample.html
</code></pre></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>…おお！</span></span><span><span>自分が作ったページが</span></span><span><span>表示されている！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>アクセスできない場合は</span></span><span><span>ファイアウォールで</span></span><span><span>防がれている可能性があるよ</span></span><span><span>ディストリビューションによって異なり</span></span><span><span>設定も難しい場合が多いので</span></span><span><span>ここでの説明は省略するね</span></span></div></article><article class="header2"><span>まとめ</span></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>今回は Apache HTTP Server を扱ったよ！</span></span><span><span>HTML ファイルを公開して</span></span><span><span>ブラウザから見れるようになるんだ！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>今回は基礎的な使い方のみ扱ったけど</span></span><span><span>学ぶべきことはたくさんあるんだ</span></span><span><span>例えば、<wbr>暗号化された安全な HTTPS 接続や</span></span><span><span>プログラムに HTML を生成させる</span></span><span><span>動的ページなどがあるよ</span></span><span><span>この分野に興味があるのなら</span></span><span><span>書籍などの教材を用意して取り組んでみよう！</span></span></div></article></section></main><footer><div class="relation"><div><div>前</div><div>6章15話</div><div><a href="6/15/">ClamAV</a></div></div><div><div>今</div><div>6章16話 Apache HTTP Server</div><div><a href=".">もくじ</a></div></div><div><div>次</div><div>6章17話</div><div><a href="6/17/">Postfix</a></div></div></div></footer><script src="js/jquery.js"></script><script src="js/common.js"></script></body></html>
