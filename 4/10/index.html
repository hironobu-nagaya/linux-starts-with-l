<html lang="ja">
<head>
<title>Lから始まるLinux - 4章10話 特殊なパーミッション</title>
<base href="../..">
<meta charset="utf-8">
<meta name="author" content="Hironobu Nagaya">
<meta name="robots" content="all">
<meta name="keywords" content="Lから始まるLinux,Linux starts with L,linux,super user,root,sticky bit,SETGID,SETUID">
<meta name="description" content="兄妹の対話を通してLinuxへの理解を深めていくお話です">
<meta name="viewport" content="width=device-width, initial-scale=0.5" />
<meta name="format-detection" content="telephone=no, email=no, address=no" />
<link rel="prev" href="4/9/" />
<link rel="next" href="4/11/" />
<link rel="icon" href="favicon.svg" type="image/svg+xml">
<link rel="stylesheet" href="css/normalize.css" type="text/css">
<link rel="stylesheet" href="css/common.css" type="text/css">
<link rel="stylesheet" href="css/story.css" type="text/css">
</head>
<body>
<header>
<h1>Lから始まるLinux</h1>
<div class="relation">
<div>
<div>前</div>
<div>4章9話</div>
<div><a href="4/9/">所有権変更</a></div>
</div>
<div>
<div>今</div>
<div>4章10話 特殊なパーミッション</div>
<div><a href=".">もくじ</a></div>
</div>
<div>
<div>次</div>
<div>4章11話</div>
<div><a href="4/11/">特殊なパーミッション操作</a></div>
</div>
</div>
</header>
<main>
<section>
<article class="header1"><span>特殊なパーミッション</span></article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>今回は特殊なパーミッションを話そう！</span></span>
<span><span>一般ユーザでも設定できるけど</span></span>
<span><span>主にスーパユーザが使うものだよ</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div>
<div>
<span><span>えっ？</span></span>
<span><span>そんなものがあるの？</span></span>
</div>
</article>
<article class="header2"><span>sticky bit</span></article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>最初は</span></span>
<span><span><wbr>「スティッキービット(sticky bit)」<wbr>だよ</span></span>
<span><span>このパーミッションが設定されている</span></span>
<span><span>ディレクトリの下では</span></span>
<span><span>ファイルの所有者しか</span></span>
<span><span>削除や移動ができないんだ</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>たくさんのユーザが</span></span>
<span><span>使う場所で使いそうだね</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>そのとおり！</span></span>
<span><span>これは </span><code>/tmp</code><span> や </span><code>/var/tmp</code><span> に</span></span>
<span><span>設定されているよ</span></span>
</div>
</article>
<article class="header2"><span>SETGID</span></article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>次は</span></span>
<span><span><wbr>「SETGID(set group id)」<wbr>だよ</span></span>
<span><span>このパーミッションが</span></span>
<span><span>設定されている実行ファイルは</span></span>
<span><span>どのグループで実行しても</span></span>
<span><span>ファイルの所有グループで</span></span>
<span><span>実行した扱いになるんだ</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>うーん？</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>SETGID はあまり使われていないよ</span></span>
<span><span>実際は次の SETUID が大事なんだ</span></span>
</div>
</article>
<article class="header2"><span>SETUID</span></article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>最後に</span></span>
<span><span><wbr>「SETUID(set user id)」<wbr>だよ</span></span>
<span><span>このパーミッションが</span></span>
<span><span>設定されている実行ファイルは</span></span>
<span><span>どのユーザで実行しても</span></span>
<span><span>ファイルの所有ユーザが</span></span>
<span><span>実行した扱いになるんだ</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>SETUID は大事と</span></span>
<span><span>言っていたよね？</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>SETUID が設定されている</span></span>
<span><span>代表は </span><code>passwd</code><span> だよ</span></span>
<span><span>ユーザパスワードが保管されている</span></span>
<span><span>設定ファイルは </span><code>/etc/shadow</code><span> だけど</span></span>
<span><span>スーパユーザしか閲覧できないんだ</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>それだとスーパユーザ以外</span></span>
<span><span>パスワード変更できないよ！</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>そこで </span><code>passwd</code><span> の所有ユーザは</span></span>
<span><code>root</code><span> になっていて</span></span>
<span><span>SETUID が設定されているんだ</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>なるほど！</span></span>
<span><span>誰が </span><code>passwd</code><span> を実行しても</span></span>
<span><code>root</code><span> ユーザが実行したことになるので</span></span>
<span><span>パスワード管理ファイル </span><code>/etc/shadow</code><span> に</span></span>
<span><span>アクセスできるということなんだね！</span></span>
</div>
</article>
<article class="header2"><span>まとめ</span></article>
<article class="talk">
<div><img src="img/midori.svg" alt="若木 みどり" /></div>
<div>
<span><span>今回は特殊なパーミッション</span></span>
<span><span>sticky bit, <wbr>SETGID, <wbr>SETUID を学んだよ！</span></span>
<span><span>ごく一部の特殊な用途のためにあるんだ！</span></span>
</div>
</article>
<article class="talk">
<div><img src="img/shigeru.svg" alt="若木 しげる" /></div>
<div>
<span><span>これらを設定することもできるよ</span></span>
<span><span>次回はその設定方法を説明するね！</span></span>
</div>
</article>
</section>
</main>
<footer>
<div class="relation">
<div>
<div>前</div>
<div>4章9話</div>
<div><a href="4/9/">所有権変更</a></div>
</div>
<div>
<div>今</div>
<div>4章10話 特殊なパーミッション</div>
<div><a href=".">もくじ</a></div>
</div>
<div>
<div>次</div>
<div>4章11話</div>
<div><a href="4/11/">特殊なパーミッション操作</a></div>
</div>
</div>
</footer>
<script src="js/jquery.js"></script>
<script src="js/common.js"></script>
</body>
</html>
