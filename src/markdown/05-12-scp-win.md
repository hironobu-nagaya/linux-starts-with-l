chapter=5
story=12
title=SCP(Windows)
keyword=SCP
keyword=Windows
keyword=WinSCP
prev=5/11/
prev-title=SSH公開鍵認証(macOS,Linux)
next=5/13/
next-title=SCP(macOS,Linux)

# SCP(Windows)

みどり（通常）：
  お兄ちゃん！
  Windows から Linux に
  ファイルを送りたいんだけど
  できるかな？
しげる（通常）：
  もちろんできるよ！
  「SCP(secure copy)」という
  仕組みを使うんだ
  今回は SCP を扱える
  Windows 用ソフトウェアを
  紹介するよ

## WinSCP

しげる（通常）：
  Windows の場合 [WinSCP](https://winscp.net/eng/docs/lang:jp) がおすすめだよ
  [公式](winscp.net/eng/download.php)からダウンロードしよう！
みどり（通常）：
  うん！
  ダウンロードしたよ！
しげる（通常）：
  WinSCP は
  日本語に対応しているよ
  インストール時の
  「セットアップの言語選択」で
  「日本語」を選択しよう！
みどり（通常）：
  おお！
  それは嬉しいね！

## 起動

みどり（通常）：
  インストールが終わったよ！
  問題なく起動できたよ！

[WinSCP(起動直後)](img/winscp-1.png)

しげる（通常）：
  画面上部にタブが並んでいるよね
  ここの「新しいタブ」を選択しよう

## 接続

[WinSCP(接続先選択)](img/winscp-2.png)

みどり（通常）：
  新しいウィンドウが出てきたよ！
しげる（通常）：
  ここで新しい接続先を
  設定するんだ
  基本は PuTTY と同じだよ
しげる（通常）：
  「新しいサイト」を選択して
  「設定(D)...」ボタンを押そう！

[WinSCP(詳細設定)](img/winscp-3.png)

みどり（通常）：
  設定画面が
  出てきたね！
しげる（通常）：
  以下を設定しよう

設定場所   | 設定項目 | 設定値
---------- | -------- | ------
SSH > 認証 | 秘密鍵   | 使用する秘密鍵ファイル

しげる（通常）：
  必須ではないけど
  以下も一緒に指定しておくと
  いいよ！

設定場所            | 設定項目                             | 設定値       | 説明
------------------- | ------------------------------------ | ------------ | ----
環境 > ディレクトリ | 最後に使用したディレクトリを記憶する | 任意         | チェックすると接続時最後に使用したディレクトリへ移動
接続                | 接続の保持                           | 「オフ」以外 | 定期的に接続が生きているか確認

しげる（通常）：
  設定が終わったら
  ウィンドウ下部の
  「OK」ボタンを押して
  設定画面を閉じよう
みどり（通常）：
  うん！
  設定が終わったよ！
しげる（通常）：
  そうしたら
  接続先の設定だよ

1. 「転送プロトコル」が「SFTP」となっていることを確認
2. 「ホスト名」入力欄に接続先のIPアドレス（またはドメイン）を入力
3. 「ポート番号」入力欄が「22」であることを確認
4. 「ユーザ名」入力欄に接続するユーザ名を入力
5. 「パスワード」入力欄が空欄であることを確認
6. 「保存」ボタンを押下
7. 「セッションの保存名」ウィンドウが開くので「セッションの保存名」にこの設定の名前を入力
8. 「OK」ボタンを押下

みどり（通常）：
  接続先一覧に
  保存した設定名が追
  加されたね！
しげる（通常）：
  その設定名を
  ダブルクリックするか
  設定名を選択した状態で
  下部の「ログイン」ボタンで
  接続を開始するよ！

## ファイル送受信

[WinSCP(接続直後)](img/winscp-4.png)

みどり（通常）：
  右側が接続先の
  内容に変わったね！
しげる（通常）：
  左側がWindows PC の内容で
  右側が接続先の内容だよ
  表示されているファイルを右クリックして
  「アップロード」や「ダウンロード」ができたり
  直接ファイルをドラッグ＆ドロップできるんだ

## まとめ

みどり（通常）：
  今回は Windows と Linux での
  ファイル送受信を学んだよ！
  Windows の場合
  「WinSCP」が便利なんだ！
しげる（通常）：
  テキストの送受信はマウス操作で
  簡単にできるけど
  ファイルは難しいからね
  こういったソフトを利用して
  ファイルを送受信しよう！

