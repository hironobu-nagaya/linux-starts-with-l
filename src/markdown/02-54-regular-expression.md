chapter=2
story=54
title=正規表現
keyword=regular expression
prev=2/53/
prev-title=AND演算子とOR演算子
next=2/55/
next-title=grepコマンド

# 正規表現

みどり（通常）：
  お兄ちゃん！
  簡単なコマンドなら
  結構使いこなせるようになったよ
  もっとレベルの高いコマンドを
  使えるようになりたい！
しげる（通常）：
  それなら「正規表現（regular expression）」を学ぼう！
  これは文字列を柔軟に表現する方法なんだ
みどり（通常）：
  高度なコマンドで
  正規表現を使うのね？

## 使い方

しげる（通常）：
  正規表現は以下の記号が
  特殊な意味を持つよ
  代表的なものを紹介するね

正規表現 | 意味
-------- | ----
`.`      | 任意の1文字
`[...]`  | `...` の中の1文字
`[^...]` | `...` の中以外の1文字
`?`      | 直前の文字が0個または1個
`*`      | 直前の文字の任意の個数繰り返し
`+`      | 直前の文字の1個以上の繰り返し
`{m,n}`  | 直前の文字 `m` 個以上 `n` 個以下の繰り返し
`{m,}`   | 直前の文字 `m` 個以上の繰り返し
`{,n}`   | 直前の文字 `n` 個以下の繰り返し
`^`      | 行頭
`$`      | 行末

## 実践

みどり（通常）：
  具体例を見てみたいなぁ
しげる（通常）：
  それでは以下の
  正規表現はどうかな

```regexp
colou?r
```

みどり（通常）：
  えっと…
  正規表現の `?` は
  「直前の文字が0個か1個」だよね
みどり（通常）：
  ということは
  「color」か「colour」の
  どちらかを指すんだ！
みどり（笑顔）：
  「color」はアメリカ英語
  「colour」はイギリス英語だね！
しげる（通常）：
  正解！
  次はどうだろう？

```regexp
yaho+
```

みどり（通常）：
  正規表現の `+` は
  「直前の文字の1個以上の繰り返し」だから
  「yaho」「yahoo」「yahooo」のように
  `o` の部分が1個以上あれば
  どんな長さでもいいんだよね？
しげる（通常）：
  いいねいいね！
  では最後にこれはどうかな
  正規表現でよく使われる
  書き方だよ

```regexp
.*
```

みどり（通常）：
  正規表現の `.` は「任意の1文字」
  正規表現の `*` は「直前の文字の任意の個数繰り返し」ね…
みどり（驚き）：
  あっ！
  これって「どんな文字列でも OK」
  という表現なんじゃないかな？！
しげる（笑顔）：
  そのとおり！
  よくできました！

## まとめ

みどり（通常）：
  今回は正規表現を学んだよ
  正規表現は文字列を
  柔軟に表現する方法なんだね
しげる（通常）：
  これから紹介するコマンド
  `grep`, `sed`, `awk` は
  正規表現を使うんだ
  基礎をしっかり押さえてから
  次へ進もう！

