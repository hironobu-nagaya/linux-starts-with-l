chapter=5
story=1
title=個人設定
keyword=.bash_profie
keyword=.bashrc
keyword=.bash_logout
prev=4/23/
prev-title=強制アクセス制御
next=5/2/
next-title=エイリアス

# 個人設定

みどり（通常）：
  お兄ちゃん！
  Linux の基礎は
  とても勉強になるけど
  もう少し楽しみが欲しいよ
みどり（通常）：
  カスタマイズしたり
  音楽を聴いたり…
  そういった楽しみ方も
  教えて欲しいなぁ！
しげる（通常）：
  そうだね
  少し毛色を変えて
  そういった話をしていこう
しげる（通常）：
  最初は個人設定の
  カスタマイズからだよ

## `.bash_profile`, `.bashrc` ファイル

しげる（通常）：
  `~/.bash_profie` と
  `~/.bashrc` は
  初期化用スクリプトだよ
  それぞれ以下のタイミングで
  呼び出されるんだ

設定ファイル      | 役割
----------------- | ----
`~/.bash_profile` | ログインシェル起動時に実行される設定
`~/.bashrc`       | 非ログインシェル起動時に実行される設定

みどり（通常）：
  「ログインシェル」と
  「非ログインシェル」って
  どう違うのかな？
しげる（通常）：
  ログインシェルは
  システムにログインするときに
  起動されるシェルのことだよ
  ターミナルの初回起動時や
  `ssh` でログインした場合などがあるんだ
しげる（通常）：
  非ログインシェルは
  既にログインした後に
  新たに起動するシェルになるよ
  例えばターミナル上で
  `bash` を実行したときなどがあるんだ
みどり（通常）：
  ログイン初回と
  それ以外で違うんだね！
  どうやって使い分けたら
  いいのかな？
しげる（通常）：
  初回に1度だけ
  設定すれば十分なものは
  `.bash_profile` に
  シェル毎に毎回
  設定する必要のあるものは
  `.bashrc` に書かれるんだ

設定ファイル      | 設定内容                         | 例
----------------- | -------------------------------- | ----
`~/.bash_profile` | 環境変数の定義など               | `export PATH="$PATH${PATH:+:}$HOME/bin"`
`~/.bashrc`       | エイリアスやシェル関数の定義など | `alias ll='ls -l'`

みどり（通常）：
  ログインして
  シェルが使えるようになるまでに
  事前にやってほしいことは
  ここに書けばいいんだね！

## `.bash_logout` ファイル

しげる（通常）：
  次は `~/.bash_logout` だよ
  これはログアウト時に
  実行されるスクリプトになるよ
みどり（通常）：
  へぇ…
  初期化処理だけじゃなくて
  後処理も定義できるんだ！
しげる（通常）：
  でも実際はログアウト時に
  必要な処理というのは
  あまりないんだ
  思い浮かばなければ
  無理に作る必要はないよ
  作るとしたら
  以下のようなものはどうだろう？

```bash
find /tmp -user "$(id -u)" -group "$(id -g)" | xargs rm -rf
```

みどり（通常）：
  `/tmp` フォルダ内の
  自分が所有している
  一時ファイルを削除するのね
  ログアウト時に
  自動掃除してくれるのは
  便利かも！

## まとめ

みどり（通常）：
  今回は初期化処理や
  後処理の設定ファイルについて学んだよ！
  以下のファイルにコマンドを書いておけば
  決まったタイミングで実行されるんだ！

設定ファイル      | 実行タイミング
----------------- | --------------
`~/.bash_profile` | 起動時(ログインシェル)
`~/.bashrc`       | 起動時(非ログインシェル)
`~/.bash_logout`  | ログアウト時

しげる（通常）：
  毎回行っている操作があれば
  これらの設定ファイルに
  その操作を書いて自動化しよう
  そうすれば打ち間違いや
  操作忘れが無くて安心だね！

