chapter=3
story=4
title=if文(使い方)
keyword=shell script
keyword=if
prev=3/3/
prev-title=readコマンド
next=3/5/
next-title=if文(実践)

# `if`文(使い方)

みどり（通常）：
  お兄ちゃん！
  シェルスクリプトって
  コマンドを順に書いていけば
  そのとおりに実行してくれるんだよね？
しげる（通常）：
  そうなるよ
  でも状況に応じて処理の流れを
  変えることができるんだ
  今回はそれを学ぼう！
みどり（通常）：
  ただ順番どおりに
  実行するだけじゃなくて
  必要があれば
  それを変えられるんだね！

## 基本構造

しげる（通常）：
  まずは`if`文を学ぼう！
  コマンドの終了ステータスに応じて
  処理を分ける仕組みだよ

```bash
if コマンド
then
  処理
fi
```

しげる（通常）：
  これは `コマンド` が
  成功した場合
  `処理` を実行するよ
みどり（通常）：
  あれ？
  これって AND 演算子 `&&` と同じだよね？
  `コマンド && 処理` と書けば
  短く書ける気がするんだけど…？
しげる（通常）：
  そのとおりだね！
  実際、単純な条件分岐なら
  `&&` の方が簡潔なんだ
しげる（通常）：
  でも`if`文は
  より複雑な条件分岐が
  できるんだ

## 詳細構造

しげる（通常）：
  次のように書くと
  複数の条件を設定できるんだ

```bash
if コマンド1
then
  処理1
elif コマンド2
then
  処理2
else
  処理3
fi
```

しげる（通常）：
  これは次のように動作するよ

1. `コマンド1` が成功したら `処理1` を実行して終了
2. `コマンド2` が成功したら `処理2` を実行して終了
3. どちらも失敗したら`処理3` を実行

みどり（通常）：
  なるほど！
  `elif` や `else` を使えば
  条件をどんどん
  増やしていけるんだね
しげる（通常）：
  そのとおり！
  さらに…

* `elif` はいくつでも書ける
* `elif` や `else` は省略できる

しげる（通常）：
  以下のような場合は
  `if`文が適しているよ

* 条件分岐が複雑な場合
* 処理が複数行ある場合
* ネスト構造を使う場合

みどり（通常）：
  「ネスト構造」って？
しげる（通常）：
  `if`文の処理の中に
  さらに`if`文があるような書き方だよ
  それを「入れ子」や「ネスト(nest)」と呼ぶんだ
みどり（通常）：
  なるほど！
  単純な場合は `&&` でいいけど
  複雑なら`if`文が便利ってことだね！

## まとめ

みどり（通常）：
  今回は `if` 文で条件によって
  処理を分けられることを学んだよ！
しげる（通常）：
  次回は `if` 文を使った
  スクリプトを書いてみよう！

