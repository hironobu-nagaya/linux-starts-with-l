chapter=4
story=7
title=ユーザ管理
keyword=super user
keyword=root
keyword=useradd
keyword=passwd
keyword=usermod
keyword=userdel
prev=4/6/
prev-title=パッケージ管理
next=4/8/
next-title=グループ管理

# ユーザ管理

みどり（通常）：
  お兄ちゃん！
  私が Linux に初めて触れたとき
  アカウントを用意してくれたよね？
  アカウント管理もスーパーユーザの
  仕事のような気がする！
しげる（通常）：
  そのとおり！
  今回はユーザを
  作る方法を覚えよう！

## `useradd` コマンド

しげる（通常）：
  `useradd` は
  ユーザを追加するよ

```bash
useradd [オプション]... ユーザ名
```

オプション              | 役割
----------------------- | ----
`-m`                    | ホームディレクトリがなければ作成
`-d ホームディレクトリ` | ホームディレクトリを設定(デフォルトは `/home/ユーザ名`)
`-c コメント`           | コメントを設定
`-s シェル`             | シェルを設定
`-r`                    | システム用ユーザ作成

しげる（通常）：
  `midori` ユーザを作成したときには
  以下のようにコマンドを実行したよ

```bash
sudo useradd -m -c "Midori Wakagi" -s /bin/bash midori
```

しげる（通常）：
  ほとんどの場合ユーザ作成時に
  ホームディレクトリも一緒に作成するよ
  意図的にそうするのでない限り
  `-m` オプションをちゃんと
  付けているかどうか確認しよう
みどり（通常）：
  コメントには
  何を書いても
  いいのかな？
しげる（通常）：
  特に制限は無いよ
  一般的にはメールアドレスや
  フルネームが書かれることが多いね

## `passwd` コマンド

しげる（通常）：
  `midori` ユーザを作成した後は
  以下のように `passwd` を
  実行していたよ

```bash
sudo passwd midori
```

みどり（通常）：
  `passwd` の引数に
  ユーザ名を指定すると
  そのユーザのパスワードを
  変更できるんだ！
しげる（通常）：
  自分のパスワードを変更は
  どのユーザでもできるけど
  他人のパスワード変更は
  スーパユーザの役割だよ
みどり（通常）：
  こうやって最初に
  私のパスワードに `midori` を
  設定してくれていたんだよね
しげる（通常）：
  そういうことだね
  あの時は簡便のために
  簡単なパスワードにしていたけど
  通常は初期パスワードでも
  推測しにくいものにするよ

## まとめ

みどり（通常）：
  今回はユーザ追加の方法を学んだよ！
  ユーザの追加は `useradd` で行い
  パスワード設定は `passwd` で行うんだね
しげる（通常）：
  他にもユーザ情報を
  変更する `usermod` や
  削除する `userdel` があるんだ
  これらのコマンドで
  ユーザアカウントを管理できるよ

