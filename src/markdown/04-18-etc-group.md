chapter=4
story=18
title=グループ設定ファイル
keyword=super user
keyword=root
keyword=group
keyword=gshadow
keyword=vigr
prev=4/17/
prev-title=ユーザ設定ファイル
next=4/19/
next-title=hostsファイル

# グループ設定ファイル

みどり（通常）：
  お兄ちゃん！
  ユーザ設定ファイルが
  あるということは
  グループ設定ファイルも
  あるんだよね？
しげる（通常）：
  それが `/etc/group` ファイルだよ
  今回はグループ設定ファイルを見よう！

## `/etc/group` ファイル

しげる（通常）：
  `/etc/group` ファイルは
  グループ情報を管理する
  設定ファイルだよ
  各行がグループを表していて
  項目はコロン(`:`) で
  区切られているんだ

フィールド | 説明
---------- | ----
1          | グループ名
2          | ハッシュ化されたパスワード
3          | GID(グループID)
4          | グループ参加ユーザ名（カンマ区切り）

みどり（通常）：
  グループにもパスワードが設定できるんだ
  これもきっと「ハッシュ化されたパスワード」が
  別ファイルにわけられているんだよね？
しげる（通常）：
  そのとおり！
  パスワードなどの情報は
  `/etc/gshadow` に分けられているよ

## `/etc/gshadow` ファイル

しげる（通常）：
  `/etc/gshadow` は
  スーパユーザのみがアクセスできる
  グループ設定ファイルなんだ

フィールド | 説明
---------- | ----
1          | グループ名
2          | ハッシュ化されたパスワード
3          | グループ管理ユーザ名（カンマ区切り）
4          | グループ参加ユーザ名（カンマ区切り）

しげる（通常）：
  ただしグループパスワードは古い仕組みで
  今はほとんど使われていないんだ
  `/etc/gshadow` を触れることは
  あまり無いかも知れないね

## `vigr` コマンド

しげる（通常）：
  グループ設定ファイルも
  直接編集してはいけないよ
  `vigr` を使おう！
みどり（通常）：
  前回の `vipw` と
  同じ理由だよね！
しげる（通常）：
  そのとおり！
  編集中に内容が変更されないようロックしてくれたり
  保存時に書式チェックをしてくれたりするんだ
しげる（通常）：
  `vigr -s` とすると
  `/etc/group` の代わりに
  `/etc/gshadow` を編集するのも
  `vipw` と似ているね

## まとめ

みどり（通常）：
  今回はグループ設定ファイル
  `/etc/group`, `/etc/gshadow` と
  その関連コマンド `vipw` を学んだね
しげる（通常）：
  グループは権限管理の大切な要素だから
  設定を変更する時は慎重に行おうね

