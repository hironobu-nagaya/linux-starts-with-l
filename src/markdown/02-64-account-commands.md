chapter=2
story=64
title=ログイン関連コマンド
keyword=id
keyword=groups
keyword=who
keyword=whoami
keyword=w
prev=2/63/
prev-title=数学関連コマンド
next=2/65/
next-title=プロセス関連コマンド

# ログイン関連コマンド

みどり（通常）：
  お兄ちゃん！
  今回はどんなコマンドを
  教えてくれるのかな？
しげる（通常）：
  今回はログイン情報に関する
  コマンドを学んでいこう！

## `id` コマンド

しげる（通常）：
  `id` は
  ユーザやグループなどの
  情報を表示してくれるよ

```bash
id [オプション]... [ユーザ]...
```

オプション       | 役割
---------------- | ----
`-u`, `--user`   | ユーザIDだけ表示
`-g`, `--group`  | 一次グループIDだけ表示
`-G`, `--groups` | グループIDだけ表示
`-n`, `--name`   | IDの代わりに名前を表示

しげる（通常）：
  ユーザの指定がなければ
  自分自身の情報を
  表示してくれるよ
  実行してみよう！

```bash
id
```

みどり（通常）：
  やってみるね！

```console
uid=1001(midori) gid=1001(midori) groups=1001(midori),10(wheel)
```

みどり（通常）：
  色々な情報が出てきたね！
しげる（通常）：
  必要な情報だけ
  知りたい場合は
  オプションを指定して
  出力を絞るといいよ！

## `groups` コマンド

しげる（通常）：
  `groups` は
  ユーザが所属している
  グループ名を一覧表示するよ

```bash
groups [オプション]... [ユーザ]...
```

しげる（通常）：
  これもユーザの指定がなければ
  自分自身の情報を
  表示してくれるんだ
  さっそくやってみよう！

```bash
groups
```

みどり（通常）：
  へぇ…
  どんな感じ
  なんだろう？

```console
midori wheel
```

みどり（通常）：
  私は `midori` と `wheel` の
  二つのグループに
  所属しているんだね！
しげる（通常）：
  `groups` は
  `id -Gn` と
  同じ動きになるんだ

## `whoami` コマンド

しげる（通常）：
  `whoami` は
  自分のユーザ名を
  表示するよ

```bash
whoami [オプション]...
```

しげる（通常）：
  何もオプションを指定しないで
  使われることが多いよ
  以下を実行してみよう！

```bash
whoami
```

みどり（通常）：
  うん！

```console
midori
```

みどり（通常）：
  Linux 上での私の名前は
  `midori` ということだね！
しげる（通常）：
  `whoami` は
  `id -un` と
  同じ動きになるんだ

## `who` コマンド

しげる（通常）：
  `who` は
  現在ログインしている
  ユーザを一覧表示するよ

```bash
who [オプション]...
```

しげる（通常）：
  すぐに覚える必要がある
  オプションはないので
  オプションなしで
  実行してみよう！

```bash
who
```

みどり（通常）：
  少なくとも
  私がログインしているから
  何かしらの情報は出てくるはず！

```console
shigeru  pts/0        Dec 25 17:52 (192.168.0.221)
midori   pts/1        Dec 26 07:55 (192.168.0.226)
```

みどり（驚き）：
  お兄ちゃんも
  ログインしていたんだ！
みどり（通常）：
  `who` って
   `whoami` と
  名前が似ているね
しげる（通常）：
  実は `who` には
  面白い使い方があるんだ
  `who am i` と指定することで
  自分の行だけに出力を絞れるよ
みどり（通常）：
  なるほど！
  とんちがきいた
  面白い指定だね！

## w コマンド

しげる（通常）：
  `w` も
  現在ログインしているユーザを
  一覧表示するコマンドなんだ
  `who` よりさらに詳しい情報を
  表示してくれるよ

```bash
w [オプション]... [ユーザ]
```

しげる（通常）：
  これも何も指定せず
  実行してみよう！

```bash
w
```

みどり（通常）：
  同じように
  実行するね！

```console
17:07:36 up 7 days, 10:12,  2 users,  load average: 4.17, 4.11, 4.09
USER     TTY       LOGIN@   IDLE   JCPU   PCPU  WHAT
midori   pts/0     09:11    0.00s  0.17s  0.00s w
shigeru  pts/1     09:19    2.00s  3.97s  3.75s -bash
```

みどり（通常）：
  たしかに
  情報が多いね！
しげる（通常）：
  各項目は
  こういう意味なんだ

項目   | 意味
------ | ----
USER   | ログインしているユーザ名
TTY    | 端末名
LOGIN@ | ログイン時刻
IDLE   | 最後に操作してからの経過時間
JCPU   | CPU 使用時間（全プロセスの合計）
PCPU   | CPU 使用時間（現在のプロセスのみ）
WHAT   | 現在実行中のコマンド

みどり（通常）：
  簡単な確認は `who` で
  詳細な確認は `w` で
  使い分けするんだね！

## まとめ

みどり（通常）：
  今回はログイン情報に関するコマンド
  `id`, `groups`, `whoami`, `who`, `w`
  を学んだよ！
しげる（通常）：
  管理者になったら
  よく使うコマンドだよ
  管理者は後で教えるから
  今のうちに覚えておこう！

