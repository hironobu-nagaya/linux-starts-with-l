chapter=6
story=8
title=ログ
keyword=log
keyword=syslogd
keyword=tailf
keyword=tail
prev=6/7/
prev-title=デーモン
next=6/9/
next-title=バイナリログ

# ログ

みどり（通常）：
  お兄ちゃん！
  サーバ管理者に必要なコマンドを
  だんだんと覚えてきたよ！
しげる（通常）：
  サーバ管理者に必要なのは
  コマンドだけではないよ
  今回は「ログ(log)」の扱いを
  学んでいこう！

## `/var/log` ディレクトリ

しげる（通常）：
  ログは
  システムやデーモンの動作を
  記録したファイルだよ
  ログを見れば動作状況や
  エラーなどを追えるんだ
みどり（通常）：
  へぇ！
  さっそく見てみようよ！
しげる（通常）：
  ログは `/var/log` ディレクトリに
  出力されているよ
  一覧を見てみよう！

```bash
ls /var/log
```

みどり（通常）：
  色々なログがあるのね…
  良く見るログは何かな？
しげる（通常）：
  `syslogd` のログを
  よく見るかな
しげる（通常）：
  `syslogd` はログ収集デーモンだよ
  `syslogd` から出力されたログから
  システム全般の情報がわかるんだ
しげる（通常）：
  `syslogd` のログファイルは
  ディストリビューションによって違っていて
  `syslog` や `message` という
  名前の場合が多いよ

```bash
sudo cat /var/log/syslog
```

みどり（通常）：
  内容が長いね…
  `less` や `grep` で
  見た方がよさそう！

## `tailf` コマンド

しげる（通常）：
  `tailf` は
  ファイル末尾を監視して
  追記があれば表示してくれるよ

```bash
tailf [オプション]... [ファイル]...
```

みどり（通常）：
  まさにログ監視にぴったりだね！
  追記されていく情報を
  確認できるんだ！

```bash
sudo tailf /var/log/syslog
```

みどり（通常）：
  ログ末尾が表示されて
  プロンプトが返ってこないね
しげる（通常）：
  `tailf` が動作し続けて
  ログ末尾を監視しているんだ
  ログに追記があると
  それが表示されるよ
しげる（通常）：
  終了は Ctrl + C だよ
みどり（通常）：
  なるほど！
  末尾を見るあたり
  `tail` と似ているね
しげる（通常）：
  実は `tailf` は
  `tail -f` と
  同じ挙動なんだ！
みどり（通常）：
  だからこういう
  名前なんだ！

## まとめ

みどり（通常）：
  今回はログと
  `tailf` を学んだよ！
しげる（通常）：
  `syslogd` 以外にも
  他の多くのデーモンが
  `/var/log` にログを出力するんだ
  これらのログからデーモンの挙動を
  確認できるよ！

