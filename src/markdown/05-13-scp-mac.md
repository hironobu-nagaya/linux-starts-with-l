chapter=5
story=13
title=SCP(macOS,Linux)
keyword=SCP
keyword=macOS
keyword=scp
prev=5/12/
prev-title=SCP(Windows)
next=5/14/
next-title=tmuxコマンド

# SCP(macOS,Linux)

みどり（通常）：
  お兄ちゃん！
  Windows から Linux へ
  ファイル送受信できるということは
  macOS や Linux からでも
  同じことができるんだよね？
しげる（通常）：
  もちろんできるよ！
  macOS と Linux では
  ほぼ操作が同じなので
  まとめて説明するね

## `scp` コマンド

しげる（通常）：
  「SCP(secure copy)」 は
  SSH と 同じ仕組みを利用して
  ファイルを送受信するんだ
  `scp` は SCP を扱うツールだよ

```bash
scp [オプション]... コピー元 コピー先
```

```bash
scp [オプション]... コピー元... コピー先ディレクトリ
```

みどり（通常）：
  `cp` と同じ感覚で
  使えるんだね！
しげる（通常）：
  ただしリモートのファイルを指定する場合
  以下のようにしてあげる必要があるよ

```bash
[ユーザ名@]接続先:パス
```

みどり（通常）：
  手元にある `5_6_7_8.mp3` を
  接続先のホームディレクトリに
  送信したいんだ
  どうしたらいいのかな？
しげる（通常）：
  まずは接続先の設定から確認しよう
  `scp` は `ssh` の設定に従うよ
  `~/.ssh/config` に記述があれば
  それに従うんだ
みどり（通常）：
  以前書いた
  `~/.ssh/config` は
  以下の通りだよ！

```plaintext
Host carter
  Hostname     192.168.0.100
  User         midori
  IdentityFile ~/.ssh/midori@carter_id_rsa
```

しげる（通常）：
  それなら `接続先` の部分は
  `carter` と指定できるんだ
みどり（通常）：
  へぇ！
  `ssh` と設定が
  共通ってうれしいね！
しげる（通常）：
  これを以下のように
  実行するよ

```bash
scp 5_6_7_8.mp3 carter:~/
```

みどり（通常）：
  何も聞かれずに
  正常終了したよ！
しげる（通常）：
  では carter にログインして
  `ls` で確認してみよう！

```bash
ssh carter
```

```bash
ls
```

みどり（通常）：
  うん！

```console
5_6_7_8.mp3
```

みどり（驚き）：
  おおっ！
  ちゃんとアップロードできているよ！
しげる（通常）：
  コピー元の方を
  リモートにしてあげれば
  ダウンロードになるんだ
  これでファイルの送受信が
  できるようになったね！

## まとめ

みどり（通常）：
  今回は `scp` を使った
  ファイル送受信を学んだよ！
しげる（通常）：
  テキストの送受信は
  マウス操作で簡単にできるけど
  ファイルは難しいからね
  `scp` からファイルを送受信しよう！

