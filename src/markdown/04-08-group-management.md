chapter=4
story=8
title=グループ管理
keyword=super user
keyword=root
keyword=groupadd
keyword=groupmod
keyword=groupdel
prev=4/7/
prev-title=ユーザ管理
next=4/9/
next-title=所有権変更

# グループ管理

しげる（通常）：
  ユーザを扱ったので
  今度はグループの話をしよう！
みどり（通常）：
  グループについては
  「ユーザを束ねるもの」ぐらいしか
  教えてもらっていなかったね
しげる（通常）：
  グループは複数のユーザでファイルや
  ディレクトリへのアクセス権限を共有したり
  共同作業をするのに役立つ仕組みだよ
  最初にグループの基本的な知識を押さえておこう

## グループの種類

しげる（通常）：
  Linux 上のユーザは必ずどこかの
  グループに所属しないといけないんだ
みどり（通常）：
  無所属は許されないんだね！
  でもユーザ作成したてのときとかは
  無所属にならないのかな？
しげる（通常）：
  その場合
  ユーザ名と同じグループが作成され
  そのグループに所属することになるよ
  この最初に所属するグループを
  「一次グループ(primary group)」というんだ
みどり（通常）：
  「一次グループ」はユーザが所属する
  メインのグループという感じなんだね
しげる（通常）：
  「一次グループ」以外にも
  ユーザはいくつでも
  グループに参加できるんだ
  そのようなグループは
  「二次グループ(secondary group)」とか
  「補助グループ(supplementary group)」と
  呼ばれるよ
みどり（通常）：
  「一次グループ」は1つだけ
  「二次グループ」はいくつでも
  参加できるんだね！

## `groupadd` コマンド

しげる（通常）：
  `groupadd` は
  グループを作成するよ

```bash
groupadd [オプション]... グループ名
```

みどり（通常）：
  ユーザ作成が `useradd` に対して
  グループ作成が `groupadd` ね
  対比になっていてわかりやすい！
しげる（通常）：
  では実際に
  `family` グループを
  作ってみよう

```bash
sudo groupadd family
```

みどり（通常）：
  うん、できたよ！
  作るのは簡単だね
しげる（通常）：
  `usermod` は
  ユーザ情報を変更するよ

```bash
usermod [オプション]... ユーザ名
```

オプション        | 役割
----------------- | ----
`-G グループ,...` | ユーザの二次グループを指定されたグループに変更
`-a`              | `-G` の挙動を「変更」ではなく「追加」にする

しげる（通常）：
  `usermod` で
  `midori` ユーザと
  `shigeru` ユーザを
  `family` グループに追加しよう

```bash
sudo usermod -a -G family midori
```

```bash
sudo usermod -a -G family shigeru
```

みどり（通常）：
  これだけで二人とも
  `family` グループに
  所属させられるんだね！

## まとめ

みどり（通常）：
  今回ははグループと
  その管理について学んだよ！
しげる（通常）：
  ユーザと同じようにグループにも
  グループ変更の `groupmod` や
  グループ削除の`groupdel` などの
  コマンドがあるんだ
  `groupadd` よりも使用頻度は少ないけど
  必要になったら調べて使ってみてね！

