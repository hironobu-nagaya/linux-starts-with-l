<!DOCTYPE html>
<html lang="ja"><head><title>Lから始まるLinux - 2章25話 パーミッション</title><base href="../.."><meta charset="utf-8"><meta name="author" content="Hironobu Nagaya"><meta name="robots" content="all"><meta name="keywords" content="Lから始まるLinux,Linux starts with L,linux,ownership,permission,mode,ls"><meta name="description" content="兄妹の対話を通してLinuxへの理解を深めていくお話です"><meta name="viewport" content="width=device-width, initial-scale=0.5" /><meta name="format-detection" content="telephone=no, email=no, address=no" /><link rel="prev" href="2/24/" /><link rel="next" href="2/26/" /><link rel="icon" href="favicon.svg" type="image/svg+xml"><link rel="stylesheet" href="css/normalize.css" type="text/css"><link rel="stylesheet" href="css/common.css" type="text/css"><link rel="stylesheet" href="css/story.css" type="text/css"></head><body><header><h1>Lから始まるLinux</h1><div class="relation"><div><div>前</div><div>2章24話</div><div><a href="2/24/">マニュアル</a></div></div><div><div>今</div><div>2章25話 パーミッション</div><div><a href=".">もくじ</a></div></div><div><div>次</div><div>2章26話</div><div><a href="2/26/">パーミッション操作</a></div></div></div></header><main><section><article class="header1"><span>パーミッション</span></article><article class="talk"><div><img src="img/midori-smile.svg" alt="若木 みどり(笑顔)" /></div><div><span><span>えへへ…</span></span><span><span>お兄ちゃんがいない間に</span></span><span><code>/home/shigeru</code><span> を覗いてみよう！</span></span></div></article><article class="code"><pre><code class="bash">ls <wbr>/home/shigeru
</code></pre></article><article class="code"><pre><code class="console">ls: <wbr>cannot <wbr>open <wbr>directory <wbr>'/home/shigeru': <wbr>Permission <wbr>denied
</code></pre></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span><wbr>「Permisson Denied」<wbr>？</span></span><span><span><wbr>「許可されていない」<wbr>って意味だよね？</span></span><span><span>秘密のロックでも掛けているのかな？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>実は特別なことをしなくても</span></span><span><span>ファイルやディレクトリが</span></span><span><span>守られているんだ</span></span></div></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>わぁ！</span></span><span><span>ごめんなさい！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>今回は<wbr>「所有権(ownership)」<wbr>と</span></span><span><span><wbr>「パーミッション(permission)」<wbr>の</span></span><span><span>二つを学ぼう！</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>…えっ？</span></span><span><span><wbr>「所有権」<wbr>と…</span></span><span><span><wbr>「パーミッション」<wbr>？</span></span></div></article><article class="header2"><span>所有権</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>まずは<wbr>「所有権」<wbr>から見ていこう</span></span><span><span>これはファイルの所有者を</span></span><span><span>表している概念なんだ</span></span><span><span>ファイルすべてに設定されているよ</span></span></div></article><article class="talk"><div><img src="img/midori-surprised.svg" alt="若木 みどり(驚き)" /></div><div><span><span>ファイルに所有者が設定されていたんだ？！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><code>/home</code><span> 以下のディレクトリを確認しよう</span></span><span><span>ただし </span><code>ls</code><span> の </span><code>-l</code><span> オプションを指定してね</span></span></div></article><article class="code"><pre><code class="bash">ls <wbr>-l <wbr>/home
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>名前だけじゃなく色々な情報を</span></span><span><span>表示するオプションだったよね！</span></span></div></article><article class="code"><pre><code class="console">total <wbr>5
drwx------. <wbr>9 <wbr>midori  <wbr>midori  <wbr>4096 <wbr>Dec <wbr>28 <wbr>20:48 <wbr>midori
drwx------. <wbr>9 <wbr>shigeru <wbr>shigeru <wbr>4096 <wbr>Dec <wbr>25 <wbr>12:15 <wbr>shigeru
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><code>midori</code><span> ディレクトリの追加情報に</span></span><span><code>midori</code><span> って私の名前が2回出てるけど</span></span><span><span>これは何かな？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>これらが<wbr>「所有権」<wbr>を表しているよ</span></span><span><span>1つ目は所有ユーザ</span></span><span><span>2つ目は所有グループなんだ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>ちなみに<wbr>「グループ(group)」<wbr>は</span></span><span><span>複数のユーザをまとめる仕組みだよ</span></span><span><span>今はそれほど気にしなくても大丈夫</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span><wbr>「所有権」<wbr>は</span></span><span><span><wbr>「所有ユーザ」<wbr>と<wbr>「所有グループ」<wbr>を</span></span><span><span>合わせたものなんだね！</span></span></div></article><article class="header2"><span>パーミッション</span></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>次にこの部分を見てごらん</span></span></div></article><article class="code"><pre><code class="console">drwx------
</code></pre></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>えーっと…</span></span><span><span>これは何？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>これは<wbr>「パーミッション」<wbr>という</span></span><span><span>ファイル操作の許可を表しているんだ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>最初の </span><code>d</code><span> はディレクトリであることを</span></span><span><span>示しているんだ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>でも、<wbr>それ以外の部分が重要だよ</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>重要なのは…</span></span><span><span>後ろの9文字？</span></span></div></article><article class="code"><pre><code class="console">rwx------
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>この9文字は3文字ずつに区切って考えるんだ</span></span><span><span>最初の3文字は所有ユーザ</span></span><span><span>次の3文字は所有グループ</span></span><span><span>最後の3文字はその他のユーザ</span></span><span><span>つまり他人に対する許可を表しているよ</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>3文字ずつか…</span></span><span><span>なるほど…</span></span></div></article><article class="code"><pre><code class="console">rwx  <wbr>---  <wbr>---
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>それぞれの文字は</span></span><span><span>以下を表しているよ</span></span></div></article><article class="table"><table><thead><tr><th><span>文字</span></th><th><span>意味</span></th></tr></thead><tbody><tr><td><code>r</code></td><td><span>読み込み(read)</span></td></tr><tr><td><code>w</code></td><td><span>書き込み(write)</span></td></tr><tr><td><code>x</code></td><td><span>実行（execute)</span></td></tr><tr><td><code>-</code></td><td><span>許可がない</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span><wbr>「読み込み」<wbr><wbr>「書き込み」<wbr>は</span></span><span><span>なんとなくわかるけど…</span></span><span><span><wbr>「実行」<wbr>ってどういう意味？</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>ファイルの場合は</span></span><span><span>それをプログラムとして</span></span><span><span>実行できるという意味だよ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>ディレクトリの場合は</span></span><span><span>意味が違っているんだ</span></span><span><span>ディレクトリの中身を調べたり</span></span><span><span>アクセスできることを意味しているよ</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>ディレクトリの<wbr>「読み込み」<wbr>と<wbr>「実行」<wbr>の</span></span><span><span>二つの違いがよくわからないね…</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>両者は厳密には違うんだけど</span></span><span><span>以下のように両方同時に</span></span><span><span>指定すると覚えておこう！</span></span></div></article><article class="table"><table><thead><tr><th><span>ディレクトリへのアクセス</span></th><th><span>指定</span></th></tr></thead><tbody><tr><td><span>許可したい</span></td><td><span><wbr>「読み込み」<wbr>と<wbr>「実行」<wbr>の両方の権限を与える</span></td></tr><tr><td><span>拒否したい</span></td><td><span><wbr>「読み込み」<wbr>と<wbr>「実行」<wbr>の両方の権限を除く</span></td></tr></tbody></table></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>うーん…</span></span><span><span>ちょっと難しいけど</span></span><span><span>整理すればわかるかも</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>じゃあ一緒に</span></span><span><code>rwx------</code></span><span><span>の部分を見てみよう</span></span></div></article><article class="code"><pre><code class="console">rwx------
</code></pre></article><article class="code"><pre><code class="console">rwx <wbr>--- <wbr>---
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>最初の </span><code>rwx</code><span> は所有ユーザの</span></span><span><span>権限を表しているんだ</span></span></div></article><article class="code"><pre><code class="console">rwx
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>つまり midori ユーザは</span></span><span><span><wbr>「読み」<wbr><wbr>「書き」<wbr><wbr>「実行」<wbr>を</span></span><span><span>自由にできるというわけだね</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>自分のディレクトリだから</span></span><span><span>何でもできるという設定なんだ！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>次の </span><code>---</code><span> は所有グループの権限だね</span></span></div></article><article class="code"><pre><code class="console">---
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>これは<wbr>「何も許可されていない」<wbr></span></span><span><span>ことを示しているんだ</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><code>midori</code><span> ユーザ本人じゃないと</span></span><span><span>たとえ </span><code>midori</code><span> グループに所属していても</span></span><span><span>何の権限もないことになるんだね！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>そして最後の </span><code>---</code><span> は</span></span><span><span>他人に対する権限だったね</span></span></div></article><article class="code"><pre><code class="console">---
</code></pre></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>所有グループと同じく何も許可していないね</span></span><span><span>つまり僕みたいなユーザに対して</span></span><span><span>何も許可していないという設定になっているよ</span></span></div></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span>そういうことなんだ！</span></span><span><span>だから私が </span><code>/home/shigeru</code><span> を覗こうとしたとき</span></span><span><span>書き込み権限が無くて</span></span><span><span>Permission Denied って出たんだね</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span><wbr>「パーミッション」<wbr>は<wbr>「モード(mode)」<wbr>とも呼ぶんだ</span></span><span><span>こちらで呼ぶこともあるので一緒に覚えておこう！</span></span></div></article><article class="header2"><span>まとめ</span></article><article class="talk"><div><img src="img/midori.svg" alt="若木 みどり" /></div><div><span><span><wbr>「所有権」<wbr>と<wbr>「パーミッション」<wbr>で</span></span><span><span>ファイルやディレクトリの操作を</span></span><span><span>制限しているんだね！</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>最初のうちは難しく感じるけど</span></span><span><span>慣れればすぐ読めるようになるよ</span></span></div></article><article class="talk"><div><img src="img/shigeru.svg" alt="若木 しげる" /></div><div><span><span>いろんなファイルやディレクトリで</span></span><span><code>ls -l</code><span> を試して読み方を練習しておこう！</span></span></div></article></section></main><footer><div class="relation"><div><div>前</div><div>2章24話</div><div><a href="2/24/">マニュアル</a></div></div><div><div>今</div><div>2章25話 パーミッション</div><div><a href=".">もくじ</a></div></div><div><div>次</div><div>2章26話</div><div><a href="2/26/">パーミッション操作</a></div></div></div></footer><script src="js/jquery.js"></script><script src="js/common.js"></script></body></html>